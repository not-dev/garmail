(self.webpackChunk=self.webpackChunk||[]).push([[372],{8372:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>p});var r=t(4246),o=t(7378);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var a=o.createElement("path",{d:"M19.761 40.69q-4.115 0-7.721-1.574-3.556-1.575-6.3-4.369-2.692-2.845-4.216-6.502Q0 24.536 0 20.32q0-4.166 1.473-7.823Q2.997 8.788 5.69 5.994 8.433 3.2 11.989 1.626 15.596 0 19.76 0q3.658 0 6.655 1.067 2.997 1.067 5.791 3.403.457.356.508.864.102.457-.101.914-.204.407-.61.61-.102.406-.508.61-.406.203-.965.152-.508-.05-1.016-.457-1.981-1.727-4.318-2.54-2.337-.864-5.436-.864-3.302 0-6.197 1.321-2.845 1.32-5.03 3.607Q6.35 10.973 5.08 13.97q-1.22 2.997-1.22 6.35 0 3.454 1.22 6.452 1.27 2.997 3.454 5.283t5.03 3.607q2.895 1.27 6.197 1.27 2.794 0 5.283-.915t4.725-2.641q.61-.508 1.27-.407.711.102 1.219.61t.508 1.32q0 .407-.102.763-.101.304-.457.66-2.59 2.388-5.791 3.404-3.2.965-6.655.965zm13.005-5.79l-3.86-.813V23.876H20.98q-.863 0-1.422-.508-.559-.508-.559-1.27t.559-1.22q.559-.507 1.422-.507h9.805q.863 0 1.422.559.559.508.559 1.371zm18.106 5.537q-3.911 0-7.01-1.829-3.099-1.88-4.928-5.08-1.778-3.2-1.778-7.214 0-4.064 1.829-7.264 1.88-3.2 5.08-5.03 3.2-1.879 7.214-1.879 4.013 0 7.162 1.88 3.2 1.829 5.03 5.029 1.88 3.2 1.93 7.264l-1.575 1.22q0 3.657-1.727 6.604-1.676 2.895-4.623 4.622-2.895 1.677-6.604 1.677zm.407-3.556q2.946 0 5.232-1.372 2.337-1.371 3.658-3.759 1.371-2.438 1.371-5.436 0-3.048-1.371-5.435-1.321-2.388-3.658-3.76-2.286-1.422-5.232-1.422-2.896 0-5.233 1.423-2.337 1.371-3.708 3.759t-1.372 5.435q0 2.998 1.372 5.436 1.371 2.388 3.708 3.76t5.233 1.37zm12.14 3.302q-.863 0-1.422-.508-.558-.559-.558-1.423v-8.686l.965-4.014 2.997.762v11.938q0 .864-.559 1.423-.559.508-1.422.508zm11.265-17.12q.152-3.15 1.626-5.639 1.524-2.489 3.911-3.911 2.439-1.423 5.385-1.423 2.337 0 3.607.66 1.27.661.965 1.931-.203.762-.711 1.016-.457.254-1.169.203-.66-.05-1.524-.101-2.844-.254-5.08.61-2.184.812-3.505 2.54-1.27 1.727-1.27 4.114zm.305 17.12q-.915 0-1.423-.508t-.508-1.423V14.326q0-.915.508-1.423t1.423-.508q.914 0 1.422.508.508.508.508 1.423v23.926q0 .915-.508 1.423t-1.422.508zm23.875 0q-.813 0-1.422-.559-.56-.61-.56-1.422V2.489q0-.863.56-1.422.61-.559 1.422-.559 1.22 0 1.778 1.016l17.12 34.036h-1.728L132.85 1.524q.61-1.016 1.778-1.016.813 0 1.372.559t.559 1.422v35.713q0 .812-.56 1.422-.558.559-1.37.559-.864 0-1.474-.559-.559-.61-.559-1.422V7.62l.864.05-14.986 30.633q-.56.965-1.727.965-1.27 0-1.83-1.219L99.83 7.874l1.016-.254v30.582q0 .812-.61 1.422-.558.559-1.371.559zm59.561.254q-3.911 0-7.01-1.829-3.099-1.88-4.928-5.08-1.778-3.2-1.778-7.214 0-4.064 1.83-7.264 1.879-3.2 5.08-5.03 3.2-1.879 7.213-1.879t7.163 1.88q3.2 1.829 5.029 5.029 1.88 3.2 1.93 7.264l-1.575 1.22q0 3.657-1.727 6.604-1.676 2.895-4.623 4.622-2.895 1.677-6.604 1.677zm.407-3.556q2.946 0 5.232-1.372 2.337-1.371 3.658-3.759 1.371-2.438 1.371-5.436 0-3.048-1.371-5.435-1.321-2.388-3.658-3.76-2.286-1.422-5.232-1.422-2.896 0-5.233 1.423-2.336 1.371-3.708 3.759t-1.372 5.435q0 2.998 1.372 5.436 1.372 2.388 3.708 3.76t5.233 1.37zm12.141 3.302q-.864 0-1.422-.508-.56-.559-.56-1.423v-8.686l.966-4.014 2.997.762v11.938q0 .864-.559 1.423-.558.508-1.422.508zm12.432 0q-.914 0-1.473-.508-.508-.559-.508-1.473V14.376q0-.914.508-1.422.56-.559 1.473-.559.864 0 1.372.559.559.508.559 1.422v23.826q0 .914-.559 1.473-.508.508-1.372.508zm-.05-33.071q-1.118 0-1.93-.813t-.814-1.981q0-1.27.813-1.981.864-.762 1.981-.762 1.067 0 1.88.762.864.711.864 1.981 0 1.168-.813 1.981t-1.981.813zm17.935 33.07q-2.032 0-3.657-1.117-1.575-1.117-2.49-3.099-.863-1.98-.863-4.572V2.438q0-.863.508-1.371.559-.559 1.422-.559.864 0 1.372.559.559.508.559 1.371v28.956q0 2.185.863 3.556.915 1.372 2.286 1.372h1.27q.762 0 1.22.559.457.508.457 1.371 0 .864-.66 1.423-.61.508-1.626.508z",strokeWidth:.265,"aria-label":"GarMail"});const c=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 204.237 40.691"},e),a)};var s=t(373),l=t(8559),u=t(4643),d=t(9887),f=(0,s.Z)((function(e){return(0,l.Z)({logo:{display:"block",fill:e.palette.text.secondary,height:e.typography.h6.fontSize}})}));const p=function(){var e,n=f();return(0,r.jsx)(u.gV,{title:(0,r.jsx)(c,{className:n.logo},void 0),url:"https://not-dev.github.io/garmail/",dbPrefix:"GarMail",examples:(e={},e[(0,d.Z)()]={index:0,title:"日報",config:{to:["manager@example.com","chief@example.com"],cc:["staff-a@example.com","staff-b@example.com"],subject:"【日報】 %LASTNAME% (%TODAY%)",body:"本日の作業内容です。\n\n%CLIPBOARD%\n\n以上"}},e[(0,d.Z)()]={index:1,title:"部内ML",config:{to:["manager@example.com","chief@example.com","staff-a@example.com","staff-b@example.com"]}},e[(0,d.Z)()]={index:2,title:"見積依頼",config:{subject:"見積書ご送付の依頼",body:"株式会社XXXX\n            XXXX様\n\n            平素より大変お世話になっております。\n            株式会社EXAMPLE 情報システム部の%NAME%です。\n\n            先日貴社へお伺いした際にご提案いただきました\n            貴社製品の「XXXX」について、社内で購入を検討しております。\n\n            つきましては下記条件にてお見積書を作成いただき、\n            ご送付くださいますようお願い申し上げます。\n\n            ----------\n            商品名：XXXX\n            数量：XXXX\n            納期：XXXX\n            ----------\n\n            不明点等ございましたらお申し付けください。\n\n            お手数をおかけしますが、\n            何卒宜しくお願い申し上げます。\n\n            %SIGNATURE%\n            ".replace(/^[^\S\n]{12}/gm,"")}},e),text:{tooltip:{help:"ヘルプ"},main:{newEntry:{title:"新しいテンプレート"},hinagata:{config:{label:{to:"to",cc:"cc",subject:"subject",body:"body"},deleteConfirm:{title:"",message:"削除しますか？"},button:{delete:"DELETE"}}},mailer:{title:"送信確認",label:{to:"to",cc:"cc",subject:"subject",body:"body"},helper:{invalidEmail:"不正な入力です",required:"必須項目"},button:{send:"送信",cancel:"キャンセル"},snack:{pending:"送信中",done:"完了",error:"エラー",timeout:"タイムアウト"}}}}},void 0)}},4643:(e,n,t)=>{"use strict";t.d(n,{gV:()=>Le,De:()=>Dn,VY:()=>On,M0:()=>In,RQ:()=>wn,qf:()=>dn,or:()=>Ve});var r=t(4246),o=t(927),i=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},a=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},c=function(){function e(e){this._name=e||"localforage",this.store=o.createInstance({name:this._name})}return e.prototype.setDBName=function(e){this._name=e,this.store.config({name:this._name})},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,this.setDBName(e)},enumerable:!1,configurable:!0}),e.prototype.getItemsAll=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e={},[4,this.store.iterate((function(n,t){e[t]=n}))];case 1:return n.sent(),[2,e]}}))}))},e.prototype.getItem=function(e){return i(this,void 0,void 0,(function(){var n;return a(this,(function(t){switch(t.label){case 0:return[4,this.store.getItem(e)];case 1:return null==(n=t.sent())?[2,null]:[2,n]}}))}))},e.prototype.setItem=function(e){return i(this,void 0,void 0,(function(){var n=this;return a(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Object.entries(e).map((function(e){var t=e[0],r=e[1];return i(n,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.store.setItem(t,r)];case 1:return[2,e.sent()]}}))}))})))];case 1:return t.sent(),[2]}}))}))},e.prototype.removeItem=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.store.removeItem(e)];case 1:return n.sent(),[2]}}))}))},e}(),s=t(6116),l=t(8681),u=t(6009),d=t(5576),f=t(3086),p=t(547),h=t(373),v=t(8559),m=t(1655),b=t(6998),g=t(323),y=t(7424),x=t(8874),j=t(7382),w=t(9334),Z=function(){return(Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},k=(0,h.Z)((function(e){return(0,v.Z)({root:{},content:{},action:{marginRight:e.spacing(3),padding:e.spacing(2,1)},delete:{color:e.palette.error.contrastText,background:e.palette.error.main,transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&:hover":{background:e.palette.error.dark}}})})),C=function(e){var n=k();return(0,r.jsxs)(b.Z,Z({open:e.open,onClose:e.onClose,className:n.root,maxWidth:"sm",fullWidth:!0},{children:[(0,r.jsx)(g.Z,{children:e.title},void 0),(0,r.jsx)(y.Z,Z({className:n.content},{children:(0,r.jsx)(x.Z,{children:e.message},void 0)}),void 0),(0,r.jsxs)(j.Z,Z({className:n.action},{children:[(0,r.jsx)(w.Z,Z({onClick:e.onClose},{children:"CANCEL"}),void 0),(0,r.jsx)(w.Z,Z({variant:"contained",color:"inherit",className:n.delete,onClick:function(){e.onClick(),e.onClose()}},{children:"DELETE"}),void 0)]}),void 0)]}),void 0)},O=t(2883),E=t(1347),A=function(){return(A=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},S=(0,h.Z)((function(e){return(0,v.Z)({wrapper:{display:"flex",justifyContent:"center",margin:e.spacing(2)}})})),P=function(e){var n=S();return(0,r.jsx)(u.Z,A({className:n.wrapper},{children:(0,r.jsx)(O.Z,A({size:"small",color:"primary",onClick:e.onClick},{children:(0,r.jsx)(E.Z,{},void 0)}),void 0)}),void 0)},I=t(5206),T=t(7779),N=function(){return(N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},q=(0,T.Z)(I.Z)((function(e){var n=e.theme,t=e.indent;return{"& .MuiInput-input":{textIndent:function(){return"string"==typeof t?t:"number"==typeof t?n.spacing(t)+"px":void 0}}}})),M=function(e){return(0,r.jsx)(q,N({},e),void 0)},R=t(925),D=t(8134),X=function(){return(X=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},B=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},W=function(e){return(0,r.jsx)(D.Z,X({elevation:6,variant:"filled"},e),void 0)},_=(0,h.Z)((function(e){return{content:{minWidth:320,color:e.palette.common.white}}})),z=function(e){var n=e.severity,t=e.message,o=e.alertProps,i=B(e,["severity","message","alertProps"]),a=_();return(0,r.jsx)(s.Z,X({maxWidth:"lg",fixed:!0},{children:(0,r.jsx)(R.Z,X({open:i.open,onClose:i.onClose,autoHideDuration:3e3},i,{children:(0,r.jsx)(W,X({className:a.content,severity:n},o,{children:t}),void 0)}),void 0)}),void 0)},L=t(1559),G=t(4002),F=t(8944),H=t(7378),U=function(){return(U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},V=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Y=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},K=(0,h.Z)((function(e){return(0,v.Z)({chipBox:{position:"absolute",top:e.spacing(2),left:0},chip:{margin:e.spacing(.5)},chipText:{"& .MuiInputLabel-root.MuiInputLabel-shrink + .MuiInput-root > .MuiInput-input":{lineHeight:"30px"}},invalidChip:{color:e.palette.error.main,borderColor:e.palette.error.main,"&:hover":{background:e.palette.error.main},"& svg":{color:e.palette.error.main,"&:hover":{color:e.palette.error.dark}}}})})),Q=function(e){var n,t,o=H.useState(0),i=o[0],a=o[1],c=H.useState(0),s=c[0],l=c[1],d=K(),f=e.sep,p=void 0===f?",":f,h=e.chips,v=e.setChips,m=e.validate,b=e.muiChipProps,g=V(e,["sep","chips","setChips","validate","muiChipProps"]),y=H.useState(""),x=y[0],j=y[1],w=H.useRef(null),Z=H.useRef(null),k=H.useState(!1),C=k[0],O=k[1];H.useEffect((function(){var e,n;a((null===(e=Z.current)||void 0===e?void 0:e.offsetWidth)||0),l((null===(n=Z.current)||void 0===n?void 0:n.offsetHeight)||0)}),[h]);var E=C||!!x||h.length>0;return(0,r.jsxs)(u.Z,U({position:"relative"},{children:[(0,r.jsx)(M,U({inputRef:w,className:d.chipText,value:x,onChange:function(e){var n=e.target.value;if(j(n),n.includes(p)){var t=n.split(p).reverse(),r=t[0],o=t.slice(1);j(r||""),v(Y(Y([],h),o.filter((function(e){return e.trim()&&e!==p}))))}},indent:0!==i&&i<((null===(n=w.current)||void 0===n?void 0:n.offsetWidth)||0)?i+8+"px":0,style:{paddingTop:i<((null===(t=w.current)||void 0===t?void 0:t.offsetWidth)||0)?0:s},onFocus:function(){return O(!0)},onBlur:function(){O(!1);var e=x.split(p).reverse().slice(0);j(""),v(Y(Y([],h),e.filter((function(e){return e.trim()&&e!==p}))))},InputLabelProps:{shrink:E},onKeyDown:function(e){var n;if("Backspace"===e.key&&0===(null===(n=null==w?void 0:w.current)||void 0===n?void 0:n.selectionStart)&&h.length>0){e.preventDefault();var t=h.reverse().slice(1);v(t)}}},g),void 0),(0,r.jsx)(L.Z,U({rootRef:Z},{children:(0,r.jsx)(u.Z,U({className:d.chipBox},{children:h.map((function(e,n){var t=void 0!==m&&!m(e);return(0,r.jsx)(G.Z,U({className:(0,F.Z)(d.chip,t&&d.invalidChip),label:e,clickable:!0,variant:t?"outlined":"default",onDoubleClick:function(){return function(e,n){var t;null===(t=w.current)||void 0===t||t.focus(),j(e),v(h.filter((function(e,t){return t!==n})))}(e,n)},onDelete:function(){return function(e){v(h.filter((function(n,t){return t!==e})))}(n)}},b),e+"-"+n)}))}),void 0)}),void 0)]}),void 0)},J=t(4206),$=t.n(J),ee=t(7693),ne=t.n(ee),te=t(6600),re=t.n(te),oe=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},ie=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ae=function(e,n){return oe(void 0,void 0,void 0,(function(){var t,r,o,i,a,c,s;return ie(this,(function(l){switch(l.label){case 0:if("cybozu.com"!==location.hostname.split(".").slice(-2).join("."))throw new Error('Domain is not "cybozu.com"');return t=function(e){ne().extend(re());var n=ne()().utc().format(),t=ne()().add(1,"month").utc().format();return'<?xml version="1.0" encoding="UTF-8"?>\n<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">\n  <soap:Header>\n      <Action>%ACTION%</Action>\n      <Security>\n        <UsernameToken>\n          <Username></Username>\n          <Password></Password>\n        </UsernameToken>\n      </Security>\n      <Timestamp>\n        <Created>%CREATED%</Created>\n        <Expires>%EXPIRES%</Expires>\n      </Timestamp>\n      <Locale>jp</Locale>\n  </soap:Header>\n  <soap:Body>\n    <%ACTION%>\n      %PARAMETERS%\n    </%ACTION%>\n  </soap:Body>\n</soap:Envelope>\n'.replaceAll("%ACTION%",e.action).replaceAll("%PARAMETERS%",e.parameters).replaceAll("%CREATED%",n).replaceAll("%EXPIRES%",t)}(n),[4,$().post(e,t,{headers:{Host:location.hostname,"Content-Type":"text/xml; charset=UTF-8",Cookie:"JSESSIONID"}})];case 1:return r=l.sent(),o=r.status,i=r.request.response,a=new DOMParser,c=a.parseFromString(i,"application/xml"),[2,(s=c.getElementsByTagName("returns")[0])?{statusCode:o,body:{returns:s}}:{statusCode:500,body:{}}]}}))}))},ce=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},se=function(e){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&apos;")},le=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},ue=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},de=function(){return le(void 0,void 0,void 0,(function(){var e,n,t;return ue(this,(function(r){switch(r.label){case 0:return[4,ae("/g/cbpapi/mail/api.csp?",{action:"MailGetProfiles",parameters:'<parameters include_system_profile="false"></parameters>'})];case 1:return e=r.sent(),n=(null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("from_name"))||[],[2,Array.from(n).map((function(e){return e.getAttribute("account_id")}))[0]||void 0]}}))}))},fe=function(e){var n=e.to,t=e.subject,r=e.body,o=e.cc;return le(void 0,void 0,void 0,(function(){var e,i,a,c,s;return ue(this,(function(l){switch(l.label){case 0:return[4,ve()];case 1:if(void 0===(e=l.sent()))throw new Error("token is undefined");return[4,de()];case 2:if(void 0===(i=l.sent()))throw new Error("accountId is undefined");return[4,(u=i,le(void 0,void 0,void 0,(function(){var e,n,t;return ue(this,(function(r){switch(r.label){case 0:return[4,ae("/g/cbpapi/mail/api.csp?",{action:"MailGetAccountsById",parameters:'<parameters><account_id xmlns="">'+u+"</account_id></parameters>"})];case 1:return e=r.sent(),[2,(null===(t=null===(n=e.body.returns)||void 0===n?void 0:n.getElementsByTagName("account")[0])||void 0===t?void 0:t.getAttribute("email"))||void 0]}}))})))];case 3:if(void 0===(a=l.sent()))throw new Error("email is undefined");return c="string"==typeof n?se(n):n.map((function(e){return se(e)})).join(","),s=void 0===o?"":"string"==typeof o?se(o):o.map((function(e){return se(e)})).join(","),[4,ae("/g/cbpapi/mail/api.csp?",{action:"MailSendMails",parameters:"<parameters>\n  <request_token>"+e+'</request_token>\n  <send_mail xmlns=""\n    account_id="'+i+'"\n    from_string="'+a+'"\n    to_string="'+c+'"\n    cc_string="'+s+'"\n    >\n    <mail xmlns="" key="dummy" version="dummy" folder_key="1"\n      subject="'+t+'"\n      body="'+r+'"\n      >\n    </mail>\n  </send_mail>\n</parameters>\n'})];case 4:return[2,l.sent()]}var u}))}))},pe=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},he=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ve=function(){return pe(void 0,void 0,void 0,(function(){var e,n,t;return he(this,(function(r){switch(r.label){case 0:return[4,ae("/g/util_api/util/api.csp?",{action:"UtilGetRequestToken",parameters:"<parameters></parameters>"})];case 1:return e=r.sent(),[2,null===(t=null===(n=e.body.returns)||void 0===n?void 0:n.getElementsByTagName("request_token")[0])||void 0===t?void 0:t.innerHTML]}}))}))},me=function(){return pe(void 0,void 0,void 0,(function(){return he(this,(function(e){return[2,new Promise((function(e){e(garoon.base.user.getLoginUser())}))]}))}))},be=t(7559),ge=function(){return(ge=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},ye=function(e){var n;if((0,be.G)(e))return!0;var t=/^"?(?<username>.*?)"?\s*<(?<email>.+)>$/.exec(e);return!!(null!=t&&t.length>1&&(0,be.G)((null===(n=t.groups)||void 0===n?void 0:n.email)||""))&&ge({},t.groups)},xe=function(){return(xe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},je=function(e){return(0,r.jsx)(Q,xe({sep:",",validate:function(e){return!!ye(e)}},e),void 0)},we=t(3456),Ze=t(9670),ke=t(3218),Ce=t(7299),Oe=t(2082),Ee=function(){return(Ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ae=(0,T.Z)(we.Z)((function(e){return{padding:e.theme.spacing(1,2)}})),Se=(0,T.Z)(u.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center"}})),Pe=(0,h.Z)((function(e){return(0,v.Z)({root:{"& .MuiMenu-list":{minWidth:e.spacing(20)}},icon:{marginRight:e.typography.button.fontSize,minWidth:e.typography.button.fontSize}})})),Ie=function(e){var n=Pe(),t=e.anchorPosition?"anchorPosition":"anchorEl";return(0,r.jsx)(H.Fragment,{children:(0,r.jsx)(Ze.Z,Ee({className:n.root,open:e.open,onClick:e.onClose,onContextMenu:e.onClose,onClose:e.onClose,anchorEl:e.anchorEl,anchorPosition:e.anchorPosition,anchorReference:t,keepMounted:!0},{children:(0,r.jsxs)(Ae,Ee({onClick:e.handleDelete},{children:[(0,r.jsx)(Se,Ee({mb:.25},{children:(0,r.jsx)(ke.Z,Ee({className:n.icon},{children:(0,r.jsx)(Oe.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,r.jsx)(Ce.Z,{primary:"Delete"},void 0)]}),void 0)}),void 0)},void 0)},Te=t(7820),Ne=function(){return(Ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},qe=(0,T.Z)(u.Z)((function(e){return{display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:e.theme.spacing(5)}})),Me=(0,h.Z)((function(e){return(0,v.Z)({progress:{color:e.palette.text.secondary}})})),Re=function(){var e=Me();return(0,r.jsx)(qe,Ne({className:e.progress},{children:(0,r.jsx)(Te.Z,{color:"inherit"},void 0)}),void 0)},De=t(2470),Xe=t.n(De),Be=function(){return(Be=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},We=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},_e=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ze=(0,h.Z)((function(e){return(0,v.Z)({root:{padding:e.spacing(4)},toolbar:{padding:e.spacing(2)}})})),Le=function(e){var n=ze(),o=new c(e.dbPrefix+"-Items"),i=function(e){o.setItem(e).catch((function(e){throw e}))},a=function(e){o.removeItem(e).catch((function(e){throw e}))};return(0,r.jsxs)(s.Z,Be({maxWidth:"sm",className:n.root},{children:[(0,r.jsxs)(l.Z,Be({className:n.toolbar},{children:[(0,r.jsx)(u.Z,Be({flex:1},{children:e.title}),void 0),(0,r.jsx)(u.Z,{children:(0,r.jsx)(d.Z,Be({href:e.url,target:"_blank",rel:"noreferrer"},{children:(0,r.jsx)(f.ZP,Be({title:e.text.tooltip.help,enterDelay:300},{children:(0,r.jsx)(p.Z,{children:(0,r.jsx)(m.Z,{},void 0)},void 0)}),void 0)}),void 0)},void 0)]}),void 0),(0,r.jsx)(H.Suspense,Be({fallback:(0,r.jsx)(Re,{},void 0)},{children:(0,r.jsx)((function(){var n=H.lazy((function(){return t.e(1).then(t.bind(t,4001))})),c=Xe()((function(){return We(void 0,void 0,void 0,(function(){return _e(this,(function(e){switch(e.label){case 0:return[4,o.getItemsAll()];case 1:return[2,e.sent()]}}))}))}),[]),s=Object.entries(c);0===s.length&&void 0!==e.examples&&(s.push.apply(s,Object.entries(e.examples)),i(e.examples));var l=s.filter((function(e){var n=e[0],t=e[1],r=t.config,o=t.index,i=function(){return a(n),!1};return void 0===r||void 0===o||"number"!=typeof o?i():"object"==typeof r&&null!=r&&!Array.isArray(r)||i()})).sort((function(e,n){return e[1].index-n[1].index}));return(0,r.jsx)(H.Suspense,Be({fallback:(0,r.jsx)(Re,{},void 0)},{children:(0,r.jsx)(n,{initEntries:l,onAdd:i,onRemove:a,text:e.text.main},void 0)}),void 0)}),{},void 0)}),void 0)]}),void 0)},Ge=t(2221),Fe=t(9887),He=function(){return(He=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ue=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},Ve=function(e){var n=H.useState([]),t=n[0],o=n[1];H.useEffect((function(){o(e.initEntries)}),[e.initEntries]);var i=H.useState(null),a=i[0],c=i[1],s=function(e){c(e[1].config)},l=H.useState(void 0),u=l[0],d=l[1],f=function(n){var r,i,a=n[0],c=n[1],s=c.config,l=c.index,u=c.title,d=((r={})[a]={config:s,index:l,title:u},r),f=Object.fromEntries(t);Object.entries(d).forEach((function(e){var n=e[0],t=e[1];f[n]=t})),o(Object.entries(f)),null===(i=e.onAdd)||void 0===i||i.call(e,d)},p=function(n){var r;o(t.filter((function(e){return e[0]!==n}))),null===(r=e.onRemove)||void 0===r||r.call(e,n)};return(0,r.jsxs)(H.Fragment,{children:[(0,r.jsx)(On,He({entries:t,setEntries:o,onAdd:e.onAdd,onRemove:e.onRemove},{children:t.map((function(n,t){return(0,r.jsx)(H.Fragment,{children:(0,r.jsx)(Ge.ZP,He({height:72,offset:100},{children:(0,r.jsx)(wn,{nth:t,entry:n,setEntry:f,onClick:s,handleDelete:p,text:e.text.hinagata,initExpanded:t===u},void 0)}),void 0)},n[0])}))}),void 0),null==a||(0,r.jsx)(dn,{config:a,open:!0,onClose:function(){return c(null)},text:e.text.mailer},void 0),(0,r.jsx)(P,{onClick:function(){var n,r,i=[(0,Fe.Z)(),{config:{},index:t.length,title:e.text.newEntry.title}];d(t.length),o(Ue(Ue([],t),[i])),null===(r=e.onAdd)||void 0===r||r.call(e,((n={})[i[0]]=i[1],n))}},void 0)]},void 0)},Ye=t(4344),Ke=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},Qe=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Je={clipboard:"%CLIPBOARD%",lastName:"%LASTNAME%",name:"%NAME%",today:"%TODAY%",signature:"SIGNATURE"},$e=function(e){return Ke(void 0,void 0,void 0,(function(){var n,t;return Qe(this,(function(r){switch(r.label){case 0:return e.includes(Je.clipboard)?[4,navigator.permissions.query({name:"clipboard-read"})]:[3,3];case 1:if("denied"===(n=r.sent()).state)throw new Error("clipboard permissions is denied");return[4,navigator.clipboard.readText().catch((function(e){if("granted"!==n.state)throw new Error("clipboard permissions is not granted");throw e}))];case 2:return t=r.sent(),[2,e.replaceAll(Je.clipboard,t)];case 3:return[2,e]}}))}))},en=function(e){return Ke(void 0,void 0,void 0,(function(){var n;return Qe(this,(function(t){switch(t.label){case 0:return e.includes(Je.lastName)?[4,me()]:[3,2];case 1:if(void 0===(n=t.sent().name.split(/\s/)[0]))throw new Error("Garoon Name is undefined");return[2,e.replaceAll(Je.lastName,n)];case 2:return[2,e]}}))}))},nn=function(e){return Ke(void 0,void 0,void 0,(function(){var n;return Qe(this,(function(t){switch(t.label){case 0:return e.includes(Je.name)?[4,me()]:[3,2];case 1:if(void 0===(n=t.sent().name))throw new Error("Garoon Name is undefined");return[2,e.replaceAll(Je.name,n)];case 2:return[2,e]}}))}))},tn=function(e){return Ke(void 0,void 0,void 0,(function(){var n,t;return Qe(this,(function(r){switch(r.label){case 0:return n=new RegExp("%"+Je.signature.replaceAll("%","")+"(\\[(?<index>.*?)\\])?%","g"),t=e.matchAll(n),[4,Array.from(new Set(t)).reduce((function(e,n){return Ke(void 0,void 0,void 0,(function(){var t,r,o,i,a,c,s;return Qe(this,(function(l){switch(l.label){case 0:return[4,e];case 1:return t=l.sent(),(r=n[0])?(o=(null===(c=n.groups)||void 0===c?void 0:c.index)?parseInt(null===(s=n.groups)||void 0===s?void 0:s.index):0,[4,de()]):[3,4];case 2:if(void 0===(i=l.sent()))throw new Error("AccountID is undefined");return[4,(u=i,le(void 0,void 0,void 0,(function(){var e,n,t;return ue(this,(function(r){switch(r.label){case 0:return[4,ae("/g/cbpapi/mail/api.csp?",{action:"MailGetSignatures",parameters:'<parameters account_id="'+u+'"></parameters>'})];case 1:return e=r.sent(),n=(null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("signature"))||[],[2,Array.from(n).map((function(e){var n=e.getAttribute("name"),t=e.getAttribute("content");return null!=n&&null!=t?{name:n,content:t}:void 0}))]}}))})))];case 3:if(void 0===(a=l.sent()[o]))throw new Error("Garoon signature is undefined");return[2,t.replace(r,a.content)];case 4:return[2,t]}var u}))}))}),Promise.resolve(e))];case 1:return[2,r.sent()]}}))}))},rn=function(e){return Ke(void 0,void 0,void 0,(function(){var n,t;return Qe(this,(function(r){switch(r.label){case 0:return t=[],[4,$e(n=e).catch((function(e){return t.push("クリップボードを取得できませんでした"),n}))];case 1:return n=r.sent(),[4,tn(n).catch((function(e){return t.push("署名を取得できませんでした"),n}))];case 2:return n=r.sent(),[4,en(n).catch((function(e){return t.push("名前を取得できませんでした"),n}))];case 3:return n=r.sent(),[4,nn(n).catch((function(e){return t.push("名前を取得できませんでした"),n}))];case 4:n=r.sent();try{n=function(e){var n=new RegExp("%"+Je.today.replaceAll("%","")+"(\\[(?<format>.*?)\\])?%","g"),t=e.matchAll(n);return Array.from(new Set(t)).reduce((function(e,n){var t,r=n[0];if(r){var o=(null===(t=n.groups)||void 0===t?void 0:t.format)||"YYYYMMDD",i=ne()().format(o);return e.replace(r,i)}return e}),e)}(n)}catch(e){t.push("日付を取得できませんでした")}return t.length>0&&window.alert(t.join("\n")),[2,n]}}))}))},on=function(){return(on=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},an=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},cn=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},sn=(0,T.Z)("div")((function(e){return{display:"flex",padding:e.theme.spacing(2)}})),ln=(0,h.Z)((function(e){return(0,v.Z)({root:{},title:{paddingBottom:e.spacing(0)},content:{padding:e.spacing(0,3)},action:{marginRight:e.spacing(4),padding:e.spacing(2,1)}})})),un=function(e){return void 0!==e&&null!=e&&("string"==typeof e?""!==e.trim():Array.isArray(e)?e.length>0&&e.map((function(e){return un(e)})).some((function(e){return e})):"object"!=typeof e||0!==Object.keys(e).length)},dn=function(e){var n=ln(),t=H.useState(e.config.to||[]),o=t[0],i=t[1],a=H.useState(e.config.cc||[]),c=a[0],s=a[1],l=H.useState(e.config.subject||""),d=l[0],f=l[1],p=H.useState(e.config.body||""),h=p[0],v=p[1];H.useEffect((function(){i(e.config.to||[]),s(e.config.cc||[]),f(e.config.subject||""),v(e.config.body||""),rn(e.config.subject||"").then((function(e){f(e)})).catch((function(e){throw e})),rn(e.config.body||"").then((function(e){v(e)})).catch((function(e){throw e}))}),[e.config]);var m=H.useState({open:!1}),x=m[0],Z=m[1],k=H.useState({open:!1}),C=k[0],O=k[1],E=function(e){return an(void 0,void 0,void 0,(function(){return cn(this,(function(n){switch(n.label){case 0:return[4,fe(e).catch((function(e){return{statusCode:500,body:e.toString()}}))];case 1:return[2,n.sent()]}}))}))},A=function(){return an(void 0,void 0,void 0,(function(){var n,t,r;return cn(this,(function(i){switch(i.label){case 0:return n={to:o||[],cc:c,subject:d||"",body:h||""},e.onClose(),Z({severity:"info",message:e.text.snack.pending}),t=function(e){return new Promise((function(n){window.setTimeout((function(){n({statusCode:408,body:{}})}),e)}))},[4,Promise.race([E(n),t(3e4)])];case 1:return 200===(r=i.sent()).statusCode?O({severity:"success",message:e.text.snack.done}):408===r.statusCode?O({severity:"error",message:e.text.snack.timeout}):O({severity:"error",message:e.text.snack.error}),[2]}}))}))},S=function(){return!!un(o)&&o.map((function(e){return ye(e)})).every((function(e){return e}))},P=function(){return void 0===c||c.map((function(e){return ye(e)})).every((function(e){return e}))},T=S(),N=P(),q=!0,M=!0,R=S()&&P()&&!0,D={to:un(o)?!T&&e.text.helper.invalidEmail:e.text.helper.required,cc:!N&&"Invalid email address",subject:!q&&"",body:!M&&""},X={to:function(e){return i(e)},cc:function(e){return s(e)},subject:function(e){return f(e.target.value)},body:function(e){return v(e.target.value)}};return(0,r.jsxs)(H.Fragment,{children:[(0,r.jsxs)(b.Z,on({open:e.open,onClose:e.onClose,className:n.root,maxWidth:"sm",fullWidth:!0,onKeyDown:function(e){return an(void 0,void 0,void 0,(function(){return cn(this,(function(n){switch(n.label){case 0:return e.ctrlKey&&"Enter"===e.key?(e.preventDefault(),[4,A()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}},{children:[(0,r.jsx)(g.Z,on({className:n.title,disableTypography:!0},{children:(0,r.jsx)(Ye.Z,on({variant:"subtitle1",color:"textSecondary",gutterBottom:!0},{children:e.text.title}),void 0)}),void 0),(0,r.jsxs)(y.Z,on({className:n.content},{children:[(0,r.jsx)(sn,{children:(0,r.jsxs)(u.Z,on({flex:1},{children:[(0,r.jsx)(u.Z,{children:(0,r.jsx)(je,{label:e.text.label.to,fullWidth:!0,multiline:!0,rowsMax:4,required:!0,error:!T,helperText:D.to,chips:o,setChips:X.to},void 0)},void 0),(0,r.jsx)(u.Z,on({position:"relative"},{children:(0,r.jsx)(je,{label:e.text.label.cc,fullWidth:!0,multiline:!0,rowsMax:4,chips:c,setChips:X.cc,error:!N,helperText:D.cc},void 0)}),void 0)]}),void 0)},void 0),(0,r.jsx)(sn,{children:(0,r.jsx)(I.Z,{variant:"outlined",label:e.text.label.subject,fullWidth:!0,value:d,onChange:X.subject,error:!q,helperText:D.subject},void 0)},void 0),(0,r.jsx)(sn,{children:(0,r.jsx)(I.Z,{variant:"outlined",label:e.text.label.body,fullWidth:!0,multiline:!0,rows:5,rowsMax:20,value:h,onChange:X.body,error:!M,helperText:D.body},void 0)},void 0)]}),void 0),(0,r.jsxs)(j.Z,on({className:n.action},{children:[(0,r.jsx)(w.Z,on({onClick:e.onClose},{children:e.text.button.cancel}),void 0),(0,r.jsx)(w.Z,on({variant:"contained",color:"primary",disabled:!R,onClick:A},{children:e.text.button.send}),void 0)]}),void 0)]}),void 0),(0,r.jsx)(z,on({},x),void 0),(0,r.jsx)(z,on({},C),void 0)]},void 0)},fn=t(9394),pn=t(4308),hn=t(3641),vn=t(775),mn=t(9969),bn=t(2193),gn=t(7346),yn=function(){return(yn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},xn=(0,h.Z)((function(e){return(0,v.Z)({accordionWrapper:{"&:first-child .MuiAccordion-root:before":{display:"none"},"&.Mui-expanded":{"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0}},"&.MuiAccordion-rounded":{"&:last-child":{borderBottomLeftRadius:4,borderBottomRightRadius:4},"&:first-child":{borderTopLeftRadius:4,borderTopRightRadius:4}}},accordionWrapped:{"&:first-child:before":{display:"block"},"&.Mui-expanded":{"&:first-child":{marginTop:e.spacing(2)},"&:last-child":{marginBottom:e.spacing(2)}},"&.MuiAccordion-rounded":{"&:last-child":{borderBottomLeftRadius:0,borderBottomRightRadius:0},"&:first-child":{borderTopLeftRadius:0,borderTopRightRadius:0}}},summary:{padding:0,"& .MuiAccordionSummary-content":{marginTop:0,marginBottom:0},transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut})},hover:{"&:hover":{background:e.palette.action.hover}},summaryContent:{display:"flex",flex:1,alignItems:"center"},expandIcon:{padding:e.spacing(1.5),transform:"rotate(0deg)",transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut})},rotate:{transform:"rotate(180deg)"},dragHandle:{color:e.palette.text.secondary,display:"flex",padding:e.spacing(3,2)},titleInput:{"& .MuiOutlinedInput-input":{background:e.palette.action.selected,transition:e.transitions.create(["background"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeInOut})},"& .MuiOutlinedInput-input:focus":{background:e.palette.background.paper}}})})),jn=function(e){e.stopPropagation(),e.preventDefault()},wn=function(e){var n=xn(),t=e.entry,o=t[0],i=t[1],a=i.config,c=i.index,s=i.title,l=function(n){e.setEntry([o,yn(yn({},e.entry[1]),{title:n.target.value})])},d=H.useState(e.initExpanded||!1),f=d[0],h=d[1],v=function(){return h(!f)},m=function(n){var t;jn(n),null===(t=e.onClick)||void 0===t||t.call(e,e.entry)},b=function(){return e.handleDelete(o)},g=function(n){return e.setEntry([o,{index:c,title:s,config:n}])},y=function(e,n){if(!n.isDropAnimating)return e;if("bin"===n.draggingOver){var t=n.dropAnimation||{moveTo:{x:0,y:0},curve:"ease",duration:.3},r=t.moveTo,o=t.curve,i=t.duration;return yn(yn({},e),{transform:"translate(0px,"+r.y+"px) rotateX(-20deg) scale(0.2)",opacity:0,transition:"transform "+o+" "+(i+.1)+"s, opacity ease-out "+i+"s"})}return e};H.useEffect((function(){(0,Ge.be)()}),[f]);var x=H.useState(!1),j=x[0],w=x[1],Z=H.useState({x:0,y:0}),k=Z[0],C=Z[1],O=function(){return w(!1)},E=function(e){jn(e),C({x:e.clientX,y:e.clientY}),w(!0)},A=function(e){return e.target.select()};return(0,r.jsx)(H.Fragment,{children:(0,r.jsx)(gn._l,yn({draggableId:o,index:e.nth},{children:function(t,o){return(0,r.jsxs)("div",yn({ref:function(e){return t.innerRef(e)}},t.draggableProps,{style:y(t.draggableProps.style,o),className:n.accordionWrapper},{children:[(0,r.jsxs)(fn.Z,yn({className:n.accordionWrapped,expanded:f,onClick:jn},{children:[(0,r.jsxs)(pn.Z,yn({className:(0,F.Z)(n.summary,!f&&n.hover),onClick:jn,onContextMenu:E},{children:[(0,r.jsxs)(u.Z,yn({className:n.summaryContent,onClick:m},{children:[(0,r.jsx)(u.Z,yn({className:n.dragHandle,onClick:jn},t.dragHandleProps,{children:(0,r.jsx)(vn.Z,{color:"inherit"},void 0)}),void 0),f?(0,r.jsx)(I.Z,{variant:"outlined",className:n.titleInput,value:s,onClick:jn,onChange:l,onFocus:A},void 0):(0,r.jsx)(Ye.Z,{children:s},void 0)]}),void 0),(0,r.jsx)(u.Z,yn({display:"flex",justifyContent:"center",alignItems:"center",mr:2},{children:(0,r.jsx)(p.Z,yn({className:(0,F.Z)(n.expandIcon,f&&n.rotate),onClick:v},{children:f?(0,r.jsx)(mn.Z,{},void 0):(0,r.jsx)(bn.Z,{fontSize:"small",style:{margin:"2px"}},void 0)}),void 0)}),void 0)]}),void 0),(0,r.jsx)(hn.Z,{children:(0,r.jsx)(Ge.ZP,yn({style:{flex:1},height:400,once:!0,offset:f?0:-window.innerHeight},{children:(0,r.jsx)(Dn,{config:a,setConfig:g,handleDelete:b,text:e.text.config},void 0)}),void 0)},void 0)]}),void 0),(0,r.jsx)(Ie,{open:j,onClose:O,handleDelete:b,anchorPosition:{top:k.y-8,left:k.x-4}},void 0)]}),void 0)}}),void 0)},void 0)},Zn=function(){return(Zn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},kn=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},Cn=(0,h.Z)((function(e){return(0,v.Z)({items:{marginBottom:e.spacing(1)}})})),On=function(e){var n=Cn(),t=H.useState(!1),o=t[0],i=t[1];return(0,r.jsxs)(gn.Z5,Zn({onDragEnd:function(n){var t,r,o;if(i(!1),null!=n.destination&&(n.source.droppableId!==n.destination.droppableId||n.source.index!==n.destination.index)){if(n.source.droppableId===n.destination.droppableId){var a=function(e,n,t){var r=Array.from(e),o=r.splice(n,1);return r.splice.apply(r,ce([t,0],o)),r}(e.entries,n.source.index,n.destination.index).map((function(e,n){var t=e[0],r=e[1];return[t,Zn(Zn({},r),{index:n})]})),c=a.reduce((function(n,t){var r,o,i=t[0],a=t[1],c=null===(o=Object.fromEntries(e.entries)[i])||void 0===o?void 0:o.index;return a.index!==c?Zn(Zn({},n),((r={})[i]=a,r)):n}),{});null===(t=e.onAdd)||void 0===t||t.call(e,c),e.setEntries(a)}if("bin"===n.destination.droppableId){var s=null===(r=e.entries[n.source.index])||void 0===r?void 0:r[0],l=e.entries.reduce((function(e,n,t){var r=n[0],o=n[1];return r!==s?kn(kn([],e),[[r,Zn(Zn({},o),{index:t})]]):e}),[]);s&&(null===(o=e.onRemove)||void 0===o||o.call(e,s)),e.setEntries(l)}}},onBeforeCapture:function(){i(!0)}},{children:[(0,r.jsx)(gn.bK,Zn({droppableId:"hinagataList"},{children:function(t){return(0,r.jsxs)("div",Zn({},t.droppableProps,{ref:function(e){return t.innerRef(e)}},{children:[(0,r.jsx)(u.Z,Zn({className:n.items},{children:e.children}),void 0),t.placeholder]}),void 0)}}),void 0),o&&(0,r.jsx)(In,{droppableId:"bin"},void 0)]}),void 0)},En=t(4130),An=function(){return(An=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Sn=(0,T.Z)(u.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center"}})),Pn=(0,T.Z)("div")((function(e){var n=e.theme;return{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",left:0,bottom:0,height:80,width:"100vw",overflow:"hidden",color:n.palette.text.secondary,border:"dashed",borderWidth:2,borderColor:n.palette.divider,transition:n.transitions.create(["background","borderColor"],{duration:n.transitions.duration.shortest,easing:n.transitions.easing.easeOut}),"&:hover":{borderColor:n.palette.error.main,background:n.palette.action.hover}}})),In=function(e){return(0,r.jsx)(gn.bK,An({droppableId:e.droppableId},{children:function(e){return(0,r.jsxs)(Pn,An({},e.droppableProps,{ref:function(n){return e.innerRef(n)}},{children:[(0,r.jsx)(Sn,An({position:"absolute"},{children:(0,r.jsx)(En.Z,{fontSize:"large",color:"inherit"},void 0)}),void 0),e.placeholder]}),void 0)}}),void 0)},Tn=function(){return(Tn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Nn=(0,T.Z)(u.Z)((function(e){return{display:"flex",flex:1,padding:e.theme.spacing(1,0)}})),qn=(0,T.Z)(u.Z)((function(e){return{flex:1,padding:e.theme.spacing(1,0)}})),Mn=(0,h.Z)((function(e){return(0,v.Z)({root:{flex:1,padding:e.spacing(0,2)},column:{flexDirection:"column"},boxForm:{marginTop:e.spacing(2)},action:{marginRight:e.spacing(2),justifyContent:"flex-end"},delete:{color:e.palette.error.contrastText,background:e.palette.error.main,transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&:hover":{background:e.palette.error.dark}}})})),Rn={to:[],cc:[],subject:"",body:"",signature:void 0},Dn=function(e){var n=Mn(),t=H.useState(!1),o=t[0],i=t[1],a=H.useState(Rn),c=a[0],s=a[1];H.useEffect((function(){s(Tn(Tn({},Rn),e.config))}),[e.config]);var l=H.useState(0),d=l[0],f=l[1],p=function(n,t){var r,o=Tn(Tn({},c),((r={})[n]=t,r));s(o),window.clearTimeout(d);var i=window.setTimeout((function(){e.setConfig(o)}),900);f(i)},h={to:function(e){return p("to",e)},cc:function(e){return p("cc",e)},subject:function(e){return p("subject",e.target.value)},body:function(e){return p("body",e.target.value)}};return(0,r.jsxs)(H.Fragment,{children:[(0,r.jsxs)(u.Z,Tn({className:n.root},{children:[(0,r.jsxs)(Nn,Tn({className:n.column,mb:2},{children:[(0,r.jsx)(qn,{children:(0,r.jsx)(je,{label:e.text.label.to,fullWidth:!0,multiline:!0,rowsMax:4,chips:c.to,setChips:h.to},void 0)},void 0),(0,r.jsx)(qn,{children:(0,r.jsx)(je,{label:e.text.label.cc,fullWidth:!0,multiline:!0,rowsMax:4,chips:c.cc,setChips:h.cc},void 0)},void 0)]}),void 0),(0,r.jsx)(Nn,{children:(0,r.jsx)(I.Z,{variant:"outlined",label:e.text.label.subject,fullWidth:!0,value:c.subject,onChange:h.subject},void 0)},void 0),(0,r.jsx)(u.Z,Tn({mb:1},{children:(0,r.jsx)(Nn,{children:(0,r.jsx)(I.Z,{variant:"outlined",label:e.text.label.body,fullWidth:!0,multiline:!0,rows:5,rowsMax:20,className:n.boxForm,value:c.body,onChange:h.body},void 0)},void 0)}),void 0),(0,r.jsx)(Nn,Tn({className:n.action},{children:(0,r.jsx)(w.Z,Tn({variant:"contained",color:"inherit",className:n.delete,onClick:function(){i(!0)}},{children:e.text.button.delete}),void 0)}),void 0)]}),void 0),(0,r.jsx)(C,{open:o,onClose:function(){i(!1)},onClick:e.handleDelete,title:e.text.deleteConfirm.title,message:e.text.deleteConfirm.message},void 0)]},void 0)}}}]);