(self.webpackChunk=self.webpackChunk||[]).push([[177],{4206:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Un});var r=t(4246),o=t(7378);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var a=o.createElement("path",{d:"M19.761 40.69q-4.115 0-7.721-1.574-3.556-1.575-6.3-4.369-2.692-2.845-4.216-6.502Q0 24.536 0 20.32q0-4.166 1.473-7.823Q2.997 8.788 5.69 5.994 8.433 3.2 11.989 1.626 15.596 0 19.76 0q3.658 0 6.655 1.067 2.997 1.067 5.791 3.403.457.356.508.864.102.457-.101.914-.204.407-.61.61-.102.406-.508.61-.406.203-.965.152-.508-.05-1.016-.457-1.981-1.727-4.318-2.54-2.337-.864-5.436-.864-3.302 0-6.197 1.321-2.845 1.32-5.03 3.607Q6.35 10.973 5.08 13.97q-1.22 2.997-1.22 6.35 0 3.454 1.22 6.452 1.27 2.997 3.454 5.283t5.03 3.607q2.895 1.27 6.197 1.27 2.794 0 5.283-.915t4.725-2.641q.61-.508 1.27-.407.711.102 1.219.61t.508 1.32q0 .407-.102.763-.101.304-.457.66-2.59 2.388-5.791 3.404-3.2.965-6.655.965zm13.005-5.79l-3.86-.813V23.876H20.98q-.863 0-1.422-.508-.559-.508-.559-1.27t.559-1.22q.559-.507 1.422-.507h9.805q.863 0 1.422.559.559.508.559 1.371zm18.106 5.537q-3.911 0-7.01-1.829-3.099-1.88-4.928-5.08-1.778-3.2-1.778-7.214 0-4.064 1.829-7.264 1.88-3.2 5.08-5.03 3.2-1.879 7.214-1.879 4.013 0 7.162 1.88 3.2 1.829 5.03 5.029 1.88 3.2 1.93 7.264l-1.575 1.22q0 3.657-1.727 6.604-1.676 2.895-4.623 4.622-2.895 1.677-6.604 1.677zm.407-3.556q2.946 0 5.232-1.372 2.337-1.371 3.658-3.759 1.371-2.438 1.371-5.436 0-3.048-1.371-5.435-1.321-2.388-3.658-3.76-2.286-1.422-5.232-1.422-2.896 0-5.233 1.423-2.337 1.371-3.708 3.759t-1.372 5.435q0 2.998 1.372 5.436 1.371 2.388 3.708 3.76t5.233 1.37zm12.14 3.302q-.863 0-1.422-.508-.558-.559-.558-1.423v-8.686l.965-4.014 2.997.762v11.938q0 .864-.559 1.423-.559.508-1.422.508zm11.265-17.12q.152-3.15 1.626-5.639 1.524-2.489 3.911-3.911 2.439-1.423 5.385-1.423 2.337 0 3.607.66 1.27.661.965 1.931-.203.762-.711 1.016-.457.254-1.169.203-.66-.05-1.524-.101-2.844-.254-5.08.61-2.184.812-3.505 2.54-1.27 1.727-1.27 4.114zm.305 17.12q-.915 0-1.423-.508t-.508-1.423V14.326q0-.915.508-1.423t1.423-.508q.914 0 1.422.508.508.508.508 1.423v23.926q0 .915-.508 1.423t-1.422.508zm23.875 0q-.813 0-1.422-.559-.56-.61-.56-1.422V2.489q0-.863.56-1.422.61-.559 1.422-.559 1.22 0 1.778 1.016l17.12 34.036h-1.728L132.85 1.524q.61-1.016 1.778-1.016.813 0 1.372.559t.559 1.422v35.713q0 .812-.56 1.422-.558.559-1.37.559-.864 0-1.474-.559-.559-.61-.559-1.422V7.62l.864.05-14.986 30.633q-.56.965-1.727.965-1.27 0-1.83-1.219L99.83 7.874l1.016-.254v30.582q0 .812-.61 1.422-.558.559-1.371.559zm59.561.254q-3.911 0-7.01-1.829-3.099-1.88-4.928-5.08-1.778-3.2-1.778-7.214 0-4.064 1.83-7.264 1.879-3.2 5.08-5.03 3.2-1.879 7.213-1.879t7.163 1.88q3.2 1.829 5.029 5.029 1.88 3.2 1.93 7.264l-1.575 1.22q0 3.657-1.727 6.604-1.676 2.895-4.623 4.622-2.895 1.677-6.604 1.677zm.407-3.556q2.946 0 5.232-1.372 2.337-1.371 3.658-3.759 1.371-2.438 1.371-5.436 0-3.048-1.371-5.435-1.321-2.388-3.658-3.76-2.286-1.422-5.232-1.422-2.896 0-5.233 1.423-2.336 1.371-3.708 3.759t-1.372 5.435q0 2.998 1.372 5.436 1.372 2.388 3.708 3.76t5.233 1.37zm12.141 3.302q-.864 0-1.422-.508-.56-.559-.56-1.423v-8.686l.966-4.014 2.997.762v11.938q0 .864-.559 1.423-.558.508-1.422.508zm12.432 0q-.914 0-1.473-.508-.508-.559-.508-1.473V14.376q0-.914.508-1.422.56-.559 1.473-.559.864 0 1.372.559.559.508.559 1.422v23.826q0 .914-.559 1.473-.508.508-1.372.508zm-.05-33.071q-1.118 0-1.93-.813t-.814-1.981q0-1.27.813-1.981.864-.762 1.981-.762 1.067 0 1.88.762.864.711.864 1.981 0 1.168-.813 1.981t-1.981.813zm17.935 33.07q-2.032 0-3.657-1.117-1.575-1.117-2.49-3.099-.863-1.98-.863-4.572V2.438q0-.863.508-1.371.559-.559 1.422-.559.864 0 1.372.559.559.508.559 1.371v28.956q0 2.185.863 3.556.915 1.372 2.286 1.372h1.27q.762 0 1.22.559.457.508.457 1.371 0 .864-.66 1.423-.61.508-1.626.508z",strokeWidth:.265,"aria-label":"GarMail"});const c=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 204.237 40.691"},e),a)};var s=t(927),l=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},u=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},d=function(){function e(e){this._name=e||"localforage",this.store=s.createInstance({name:this._name})}return e.prototype.setDBName=function(e){this._name=e,this.store.config({name:this._name})},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,this.setDBName(e)},enumerable:!1,configurable:!0}),e.prototype.getItemsAll=function(){return l(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e={},[4,this.store.iterate((function(n,t){e[t]=n}))];case 1:return n.sent(),[2,e]}}))}))},e.prototype.getItem=function(e){return l(this,void 0,void 0,(function(){var n;return u(this,(function(t){switch(t.label){case 0:return[4,this.store.getItem(e)];case 1:return null==(n=t.sent())?[2,null]:[2,n]}}))}))},e.prototype.setItem=function(e){return l(this,void 0,void 0,(function(){var n=this;return u(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Object.entries(e).map((function(e){var t=e[0],r=e[1];return l(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.store.setItem(t,r)];case 1:return[2,e.sent()]}}))}))})))];case 1:return t.sent(),[2]}}))}))},e.prototype.removeItem=function(e){return l(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.store.removeItem(e)];case 1:return n.sent(),[2]}}))}))},e}(),f=t(6998),p=t(323),v=t(7424),h=t(8874),m=t(7382),b=t(9334),g=t(373),y=t(8559),x=function(){return(x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},w=(0,g.Z)((function(e){return(0,y.Z)({root:{},content:{},action:{marginRight:e.spacing(3),padding:e.spacing(2,1)},delete:{color:e.palette.error.contrastText,background:e.palette.error.main,transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&:hover":{background:e.palette.error.dark}}})})),j=function(e){var n=w();return(0,r.jsxs)(f.Z,x({open:e.open,onClose:e.onClose,className:n.root,maxWidth:"sm",fullWidth:!0},{children:[(0,r.jsx)(p.Z,{children:e.title},void 0),(0,r.jsx)(v.Z,x({className:n.content},{children:(0,r.jsx)(h.Z,{children:e.message},void 0)}),void 0),(0,r.jsxs)(m.Z,x({className:n.action},{children:[(0,r.jsx)(b.Z,x({onClick:e.onClose},{children:"CANCEL"}),void 0),(0,r.jsx)(b.Z,x({variant:"contained",color:"inherit",className:n.delete,onClick:function(){e.onClick(),e.onClose()}},{children:"DELETE"}),void 0)]}),void 0)]}),void 0)},Z=t(6009),k=t(2883),C=t(1347),O=function(){return(O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},E=(0,g.Z)((function(e){return(0,y.Z)({wrapper:{display:"flex",justifyContent:"center",margin:e.spacing(2)}})})),A=function(e){var n=E();return(0,r.jsx)(Z.Z,O({className:n.wrapper},{children:(0,r.jsx)(k.Z,O({size:"small",color:"primary",onClick:e.onClick},{children:(0,r.jsx)(C.Z,{},void 0)}),void 0)}),void 0)},S=t(5206),I=t(7779),P=function(){return(P=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},T=(0,I.Z)(S.Z)((function(e){var n=e.theme,t=e.indent;return{"& .MuiInput-input":{textIndent:function(){return"string"==typeof t?t:"number"==typeof t?n.spacing(t)+"px":void 0}}}})),N=function(e){return(0,r.jsx)(T,P({},e),void 0)},q=t(6116),M=t(925),R=t(8134),D=function(){return(D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},B=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},X=function(e){return(0,r.jsx)(R.Z,D({elevation:6,variant:"filled"},e),void 0)},_=(0,g.Z)((function(e){return{content:{minWidth:320,color:e.palette.common.white}}})),L=function(e){var n=e.severity,t=e.message,o=e.alertProps,i=B(e,["severity","message","alertProps"]),a=_();return(0,r.jsx)(q.Z,D({maxWidth:"lg",fixed:!0},{children:(0,r.jsx)(M.Z,D({open:i.open,onClose:i.onClose,autoHideDuration:3e3},i,{children:(0,r.jsx)(X,D({className:a.content,severity:n},o,{children:t}),void 0)}),void 0)}),void 0)},W=t(1559),z=t(4002),G=t(8944),H=function(){return(H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},F=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},U=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},Y=(0,g.Z)((function(e){return(0,y.Z)({chipBox:{position:"absolute",top:e.spacing(2),left:0,maxHeight:function(e){return 40*e.rowsMax+8+"px"},width:"100%",overflow:"scroll"},chip:{margin:e.spacing(.5)},chipText:{"& .MuiInputLabel-root.MuiInputLabel-shrink + .MuiInput-root > .MuiInput-input":{lineHeight:"30px"}},invalidChip:{color:e.palette.error.main,borderColor:e.palette.error.main,"&:hover":{background:e.palette.error.main},"& svg":{color:e.palette.error.main,"&:hover":{color:e.palette.error.dark}}}})})),V=function(e){var n,t,i,a=e.seps,c=void 0===a?[",","\n"]:a,s=e.chips,l=e.setChips,u=e.validate,d=e.muiChipProps,f=F(e,["seps","chips","setChips","validate","muiChipProps"]),p=Y({rowsMax:"number"==typeof f.rowsMax?f.rowsMax:parseInt(f.rowsMax||"3")}),v=o.useState(""),h=v[0],m=v[1],b=o.useRef(null),g=o.useRef(null),y=o.useState((null===(n=g.current)||void 0===n?void 0:n.offsetWidth)||0),x=y[0],w=y[1],j=o.useState((null===(t=g.current)||void 0===t?void 0:t.offsetHeight)||0),k=j[0],C=j[1],O=o.useState((null===(i=b.current)||void 0===i?void 0:i.offsetWidth)||0),E=O[0],A=O[1],S=o.useState(!1),I=S[0],P=S[1];o.useEffect((function(){var e,n,t;w((null===(e=g.current)||void 0===e?void 0:e.offsetWidth)||0),C((null===(n=g.current)||void 0===n?void 0:n.offsetHeight)||0),A((null===(t=b.current)||void 0===t?void 0:t.offsetWidth)||0)}),[s]);var T=I||!!h||s.length>0;return(0,r.jsxs)(Z.Z,H({position:"relative"},{children:[(0,r.jsx)(N,H({inputRef:b,className:p.chipText,fullWidth:!0,multiline:!0,value:h,onChange:function(e){var n=e.target.value;if(m(n),c.some((function(e){return n.includes(e)}))){var t=n.split(new RegExp("["+c.join()+"]")).reverse(),r=t[0],o=t.slice(1);m(r||""),l(U(U([],s),o.filter((function(e){return e.trim()&&c.every((function(n){return e!==n}))}))))}},indent:0!==x&&x<E?x+8+"px":0,style:{paddingTop:x<E?0:k},onFocus:function(){return P(!0)},onBlur:function(){P(!1);var e=h.split(new RegExp("["+c.join()+"]")).reverse().slice(0);m(""),l(U(U([],s),e.filter((function(e){return e.trim()&&c.every((function(n){return e!==n}))}))))},InputLabelProps:{shrink:T},onKeyDown:function(e){var n;if("Backspace"===e.key&&0===(null===(n=null==b?void 0:b.current)||void 0===n?void 0:n.selectionStart)&&s.length>0){e.preventDefault();var t=s.reverse().slice(1);l(t)}}},f),void 0),s.length>0&&(0,r.jsx)(W.Z,H({rootRef:g},{children:(0,r.jsx)(Z.Z,H({className:p.chipBox},{children:s.map((function(e,n){var t=void 0!==u&&!u(e);return(0,r.jsx)(z.Z,H({className:(0,G.Z)(p.chip,t&&p.invalidChip),label:e,clickable:!0,variant:t?"outlined":"default",onDoubleClick:function(){return function(e,n){var t;null===(t=b.current)||void 0===t||t.focus(),m(e),l(s.filter((function(e,t){return t!==n})))}(e,n)},onDelete:function(){return function(e){l(s.filter((function(n,t){return t!==e})))}(n)}},d),e+"-"+n)}))}),void 0)}),void 0)]}),void 0)},K=t(7808),Q=t.n(K),J=t(7693),$=t.n(J),ee=t(6600),ne=t.n(ee),te=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},re=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},oe=function(e,n){return te(void 0,void 0,void 0,(function(){var t,r,o,i,a,c,s;return re(this,(function(l){switch(l.label){case 0:if("cybozu.com"!==location.hostname.split(".").slice(-2).join("."))throw new Error('Domain is not "cybozu.com"');return t=function(e){$().extend(ne());var n=$()().utc().format(),t=$()().add(1,"month").utc().format();return'<?xml version="1.0" encoding="UTF-8"?>\n<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">\n  <soap:Header>\n      <Action>%ACTION%</Action>\n      <Security>\n        <UsernameToken>\n          <Username></Username>\n          <Password></Password>\n        </UsernameToken>\n      </Security>\n      <Timestamp>\n        <Created>%CREATED%</Created>\n        <Expires>%EXPIRES%</Expires>\n      </Timestamp>\n      <Locale>jp</Locale>\n  </soap:Header>\n  <soap:Body>\n    <%ACTION%>\n      %PARAMETERS%\n    </%ACTION%>\n  </soap:Body>\n</soap:Envelope>\n'.replaceAll("%ACTION%",e.action).replaceAll("%PARAMETERS%",e.parameters).replaceAll("%CREATED%",n).replaceAll("%EXPIRES%",t)}(n),[4,Q().post(e,t,{headers:{Host:location.hostname,"Content-Type":"text/xml; charset=UTF-8",Cookie:"JSESSIONID"}})];case 1:return r=l.sent(),o=r.status,i=r.request.response,a=new DOMParser,c=a.parseFromString(i,"application/xml"),[2,(s=c.getElementsByTagName("returns")[0])?{statusCode:o,body:{returns:s}}:{statusCode:500,body:{}}]}}))}))},ie=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},ae=function(e){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&apos;").replaceAll("\n\r","&#xA;").replaceAll("\n","&#xA;")},ce=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},se=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},le="/g/cbpapi/mail/api.csp?",ue=function(){return ce(void 0,void 0,void 0,(function(){var e,n,t,r;return se(this,(function(o){switch(o.label){case 0:return[4,oe(le,{action:"MailGetProfiles",parameters:'<parameters include_system_profile="false"></parameters>'})];case 1:if(e=o.sent(),n=(null===(r=e.body.returns)||void 0===r?void 0:r.getElementsByTagName("from_name"))||[],void 0===(t=Array.from(n).map((function(e){return e.getAttribute("account_id")}))[0]||void 0))throw new Error("Mail account ID is undefined");return[2,t]}}))}))},de=function(e){var n=e.to,t=e.subject,r=e.body,o=e.cc;return ce(void 0,void 0,void 0,(function(){var e,i,a,c,s,l;return se(this,(function(u){switch(u.label){case 0:return[4,he()];case 1:return e=u.sent(),[4,ue()];case 2:return i=u.sent(),[4,(d=i,ce(void 0,void 0,void 0,(function(){var e,n,t,r;return se(this,(function(o){switch(o.label){case 0:return[4,oe(le,{action:"MailGetAccountsById",parameters:'<parameters><account_id xmlns="">'+d+"</account_id></parameters>"})];case 1:if(e=o.sent(),void 0===(n=(null===(r=null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("account")[0])||void 0===r?void 0:r.getAttribute("email"))||void 0))throw new Error("email is undefined");return[2,n]}}))})))];case 3:return a=u.sent(),c="string"==typeof n?ae(n):n.map((function(e){return ae(e)})).join(","),s=void 0===o?"":"string"==typeof o?ae(o):o.map((function(e){return ae(e)})).join(","),l="<parameters>\n  <request_token>"+e+'</request_token>\n  <send_mail xmlns=""\n    account_id="'+i+'"\n    from_string="'+a+'"\n    to_string="'+c+'"\n    cc_string="'+s+'"\n    >\n    <mail xmlns="" key="dummy" version="dummy" folder_key="1"\n      subject="'+ae(t)+'"\n      body="'+ae(r)+'"\n      >\n    </mail>\n  </send_mail>\n</parameters>\n',[4,oe(le,{action:"MailSendMails",parameters:l})];case 4:return[2,u.sent()]}var d}))}))},fe=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},pe=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ve="/g/util_api/util/api.csp?",he=function(){return fe(void 0,void 0,void 0,(function(){var e,n,t,r;return pe(this,(function(o){switch(o.label){case 0:return[4,oe(ve,{action:"UtilGetRequestToken",parameters:"<parameters></parameters>"})];case 1:if(e=o.sent(),void 0===(n=null===(r=null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("request_token")[0])||void 0===r?void 0:r.innerHTML))throw new Error("token is undefined");return[2,n]}}))}))},me=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},be=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ge=function(){return me(void 0,void 0,void 0,(function(){var e,n,t,r;return be(this,(function(o){switch(o.label){case 0:return"%Name%".includes("%")||"%Mail%".includes("%")||"%ID%".includes("%")?[4,fe(void 0,void 0,void 0,(function(){var e,n,t,r;return pe(this,(function(o){switch(o.label){case 0:return[4,oe(ve,{action:"UtilGetLoginUserId",parameters:"<parameters></parameters>"})];case 1:if(e=o.sent(),void 0===(n=null===(r=null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("user_id")[0])||void 0===r?void 0:r.innerHTML))throw new Error("User id is undefined");return[2,n]}}))}))]:[2,{id:"%ID%",email:"%Mail%",name:"%Name%"}];case 1:return e=o.sent(),[4,oe("/g/cbpapi/base/api.csp?",{action:"BaseGetUsersById",parameters:"<parameters><user_id>"+e+"</user_id> </parameters>"})];case 2:if(n=o.sent(),void 0===(t=null===(r=n.body.returns)||void 0===r?void 0:r.getElementsByTagName("user")[0]))throw new Error("user is undefined");return[2,{id:e,email:t.getAttribute("email")||"",name:t.getAttribute("name")||""}]}}))}))},ye=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},xe=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},we={clipboard:"%CLIPBOARD%",lastName:"%LASTNAME%",name:"%NAME%",today:"%TODAY%",signature:"SIGNATURE"},je=function(e){return ye(void 0,void 0,void 0,(function(){var n,t;return xe(this,(function(r){switch(r.label){case 0:return e.includes(we.clipboard)?[4,navigator.permissions.query({name:"clipboard-read"})]:[3,3];case 1:if("denied"===(n=r.sent()).state)throw new Error("clipboard permissions is denied");return[4,navigator.clipboard.readText().catch((function(e){if("granted"!==n.state)throw new Error("clipboard permissions is not granted");throw e}))];case 2:return t=r.sent(),[2,e.replaceAll(we.clipboard,t)];case 3:return[2,e]}}))}))},Ze=function(e){return ye(void 0,void 0,void 0,(function(){var n;return xe(this,(function(t){switch(t.label){case 0:return e.includes(we.lastName)?[4,ge()]:[3,2];case 1:if(void 0===(n=t.sent().name.split(/\s/)[0]))throw new Error("Garoon Name is undefined");return[2,e.replaceAll(we.lastName,n)];case 2:return[2,e]}}))}))},ke=function(e){return ye(void 0,void 0,void 0,(function(){var n;return xe(this,(function(t){switch(t.label){case 0:return e.includes(we.name)?[4,ge()]:[3,2];case 1:if(void 0===(n=t.sent().name))throw new Error("Garoon Name is undefined");return[2,e.replaceAll(we.name,n)];case 2:return[2,e]}}))}))},Ce=function(e){return ye(void 0,void 0,void 0,(function(){var n,t;return xe(this,(function(r){switch(r.label){case 0:return n=new RegExp("%"+we.signature.replaceAll("%","")+"(\\[(?<index>.*?)\\])?%","g"),t=e.matchAll(n),[4,Array.from(new Set(t)).reduce((function(e,n){return ye(void 0,void 0,void 0,(function(){var t,r,o,i,a,c,s;return xe(this,(function(l){switch(l.label){case 0:return[4,e];case 1:return t=l.sent(),(r=n[0])?(o=(null===(c=n.groups)||void 0===c?void 0:c.index)?parseInt(null===(s=n.groups)||void 0===s?void 0:s.index):0,[4,ue()]):[3,4];case 2:if(void 0===(i=l.sent()))throw new Error("AccountID is undefined");return[4,(u=i,ce(void 0,void 0,void 0,(function(){var e,n,t;return se(this,(function(r){switch(r.label){case 0:return[4,oe(le,{action:"MailGetSignatures",parameters:'<parameters account_id="'+u+'"></parameters>'})];case 1:return e=r.sent(),n=(null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("signature"))||[],[2,Array.from(n).map((function(e){var n=e.getAttribute("name"),t=e.getAttribute("content");return null!=n&&null!=t?{name:n,content:t}:void 0}))]}}))})))];case 3:if(void 0===(a=l.sent()[o]))throw new Error("Garoon signature is undefined");return[2,t.replace(r,a.content)];case 4:return[2,t]}var u}))}))}),Promise.resolve(e))];case 1:return[2,r.sent()]}}))}))},Oe=function(e){return ye(void 0,void 0,void 0,(function(){var n,t;return xe(this,(function(r){switch(r.label){case 0:return t=[],[4,je(n=e).catch((function(e){return t.push("クリップボードを取得できませんでした"),n}))];case 1:return n=r.sent(),[4,Ce(n).catch((function(e){return t.push("署名を取得できませんでした"),n}))];case 2:return n=r.sent(),[4,Ze(n).catch((function(e){return t.push("名前を取得できませんでした"),n}))];case 3:return n=r.sent(),[4,ke(n).catch((function(e){return t.push("名前を取得できませんでした"),n}))];case 4:n=r.sent();try{n=function(e){var n=new RegExp("%"+we.today.replaceAll("%","")+"(\\[(?<format>.*?)\\])?%","g"),t=e.matchAll(n);return Array.from(new Set(t)).reduce((function(e,n){var t,r=n[0];if(r){var o=(null===(t=n.groups)||void 0===t?void 0:t.format)||"YYYYMMDD",i=$()().format(o);return e.replace(r,i)}return e}),e)}(n)}catch(e){t.push("日付を取得できませんでした")}return t.length>0&&window.alert(t.join("\n")),[2,n]}}))}))},Ee=t(7559),Ae=function(e){if((0,Ee.G)(e))return e;return[/(^"(?<username>[^"<>]*?)"\s+<(?<email>.+@.+)>)/,/(^(?<username>[^"<>]*?)\s+<(?<email>.+@.+)>)/].map((function(n){return n.exec(e)})).reduce((function(e,n){var t,r,o,i;return null!=n&&n.length>1&&(null===(t=n.groups)||void 0===t?void 0:t.username)&&(null===(r=n.groups)||void 0===r?void 0:r.email)&&(0,Ee.G)(n.groups.email)?{username:null===(o=n.groups)||void 0===o?void 0:o.username,email:null===(i=n.groups)||void 0===i?void 0:i.email}:e}),!1)},Se=function(){return(Se=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ie=function(e){return(0,r.jsx)(V,Se({validate:function(e){return!!Ae(e)}},e),void 0)},Pe=t(3456),Te=t(9670),Ne=t(3218),qe=t(7299),Me=t(2082),Re=function(){return(Re=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},De=(0,I.Z)(Pe.Z)((function(e){return{padding:e.theme.spacing(1,2)}})),Be=(0,I.Z)(Z.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center"}})),Xe=(0,g.Z)((function(e){return(0,y.Z)({root:{"& .MuiMenu-list":{minWidth:e.spacing(20)}},icon:{marginRight:e.typography.button.fontSize,minWidth:e.typography.button.fontSize}})})),_e=function(e){var n=Xe(),t=e.anchorPosition?"anchorPosition":"anchorEl";return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(Te.Z,Re({className:n.root,open:e.open,onClick:e.onClose,onContextMenu:e.onClose,onClose:e.onClose,anchorEl:e.anchorEl,anchorPosition:e.anchorPosition,anchorReference:t,keepMounted:!0},{children:(0,r.jsxs)(De,Re({onClick:e.handleDelete},{children:[(0,r.jsx)(Be,Re({mb:.25},{children:(0,r.jsx)(Ne.Z,Re({className:n.icon},{children:(0,r.jsx)(Me.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,r.jsx)(qe.Z,{primary:"Delete"},void 0)]}),void 0)}),void 0)},void 0)},Le=t(7820),We=function(){return(We=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},ze=(0,I.Z)(Z.Z)((function(e){return{display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:e.theme.spacing(5)}})),Ge=(0,g.Z)((function(e){return(0,y.Z)({progress:{color:e.palette.text.secondary}})})),He=function(){var e=Ge();return(0,r.jsx)(ze,We({className:e.progress},{children:(0,r.jsx)(Le.Z,{color:"inherit"},void 0)}),void 0)},Fe=t(8681),Ue=t(5576),Ye=t(3086),Ve=t(547),Ke=t(1655),Qe=t(2470),Je=t.n(Qe),$e=function(){return($e=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},en=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},nn=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},tn=(0,g.Z)((function(e){return(0,y.Z)({root:{maxHeight:"100vh",padding:e.spacing(2)},toolbar:{padding:e.spacing(2)}})})),rn=function(e){var n=tn(),t=new d(e.dbPrefix+"-Items"),i=function(e){t.setItem(e).catch((function(e){throw e}))},a=function(e){t.removeItem(e).catch((function(e){throw e}))};return(0,r.jsxs)(q.Z,$e({maxWidth:"sm",className:n.root},{children:[(0,r.jsxs)(Fe.Z,$e({className:n.toolbar},{children:[(0,r.jsx)(Z.Z,$e({flex:1},{children:e.title}),void 0),(0,r.jsx)(Z.Z,{children:(0,r.jsx)(Ue.Z,$e({href:e.url,target:"_blank",rel:"noreferrer",tabIndex:-1},{children:(0,r.jsx)(Ye.ZP,$e({title:e.text.tooltip.help,enterDelay:300},{children:(0,r.jsx)(Ve.Z,{children:(0,r.jsx)(Ke.Z,{},void 0)},void 0)}),void 0)}),void 0)},void 0)]}),void 0),(0,r.jsx)(o.Suspense,$e({fallback:(0,r.jsx)(He,{},void 0)},{children:(0,r.jsx)((function(){var n=Je()((function(){return en(void 0,void 0,void 0,(function(){return nn(this,(function(e){switch(e.label){case 0:return[4,t.getItemsAll()];case 1:return[2,e.sent()]}}))}))}),[]),c=Object.entries(n);0===c.length&&void 0!==e.examples&&(c.push.apply(c,Object.entries(e.examples)),i(e.examples));var s=c.filter((function(e){var n=e[0],t=e[1],r=t.config,o=t.index,i=function(){return a(n),!1};return void 0===r||void 0===o||"number"!=typeof o?i():"object"==typeof r&&null!=r&&!Array.isArray(r)||i()})).sort((function(e,n){return e[1].index-n[1].index}));return(0,r.jsx)(o.Suspense,$e({fallback:(0,r.jsx)(He,{},void 0)},{children:(0,r.jsx)(ln,{initEntries:s,onAdd:i,onRemove:a,text:e.text.main},void 0)}),void 0)}),{},void 0)}),void 0)]}),void 0)},on=t(2221),an=t(9887),cn=function(){return(cn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},sn=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},ln=function(e){var n=o.useState([]),t=n[0],i=n[1];o.useEffect((function(){i(e.initEntries)}),[e.initEntries]);var a=o.useState(null),c=a[0],s=a[1],l=function(e){s(e[1].config)},u=o.useState(void 0),d=u[0],f=u[1],p=function(n){var r,o,a=n[0],c=n[1],s=c.config,l=c.index,u=c.title,d=((r={})[a]={config:s,index:l,title:u},r),f=Object.fromEntries(t);Object.entries(d).forEach((function(e){var n=e[0],t=e[1];f[n]=t})),i(Object.entries(f)),null===(o=e.onAdd)||void 0===o||o.call(e,d)},v=function(n){var r;i(t.filter((function(e){return e[0]!==n}))),null===(r=e.onRemove)||void 0===r||r.call(e,n)};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Tn,cn({entries:t,setEntries:i,onAdd:e.onAdd,onRemove:e.onRemove},{children:t.map((function(n,t){return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(on.ZP,cn({height:72,offset:100},{children:(0,r.jsx)(An,{nth:t,entry:n,setEntry:p,onClick:l,handleDelete:v,text:e.text.hinagata,initExpanded:t===d},void 0)}),void 0)},n[0])}))}),void 0),(0,r.jsx)(bn,{config:c||{},open:null!=c,onClose:function(){return s(null)},text:e.text.mailer},void 0),(0,r.jsx)(A,{onClick:function(){var n,r,o=[(0,an.Z)(),{config:{},index:t.length,title:e.text.newEntry.title}];f(t.length),i(sn(sn([],t),[o])),null===(r=e.onAdd)||void 0===r||r.call(e,((n={})[o[0]]=o[1],n))}},void 0)]},void 0)},un=t(4344),dn=function(){return(dn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},fn=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},pn=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},vn=(0,I.Z)("div")((function(e){return{display:"flex",padding:e.theme.spacing(2)}})),hn=(0,g.Z)((function(e){return(0,y.Z)({root:{},title:{paddingBottom:e.spacing(0)},content:{padding:e.spacing(0,3)},action:{marginRight:e.spacing(4),padding:e.spacing(2,1)}})})),mn=function(e){return void 0!==e&&null!=e&&("string"==typeof e?""!==e.trim():Array.isArray(e)?e.length>0&&e.map((function(e){return mn(e)})).some((function(e){return e})):"object"!=typeof e||0!==Object.keys(e).length)},bn=function(e){var n,t,i,a,c=hn(),s=o.useState((null===(n=e.config)||void 0===n?void 0:n.to)||[]),l=s[0],u=s[1],d=o.useState((null===(t=e.config)||void 0===t?void 0:t.cc)||[]),h=d[0],g=d[1],y=o.useState((null===(i=e.config)||void 0===i?void 0:i.subject)||""),x=y[0],w=y[1],j=o.useState((null===(a=e.config)||void 0===a?void 0:a.body)||""),k=j[0],C=j[1];o.useEffect((function(){var n,t,r,o,i,a;u((null===(n=e.config)||void 0===n?void 0:n.to)||[]),g((null===(t=e.config)||void 0===t?void 0:t.cc)||[]),w((null===(r=e.config)||void 0===r?void 0:r.subject)||""),C((null===(o=e.config)||void 0===o?void 0:o.body)||""),Oe((null===(i=e.config)||void 0===i?void 0:i.subject)||"").then((function(e){w(e)})).catch((function(e){throw e})),Oe((null===(a=e.config)||void 0===a?void 0:a.body)||"").then((function(e){C(e)})).catch((function(e){throw e}))}),[e.config]);var O=o.useState({open:!1}),E=O[0],A=O[1],I=o.useState({open:!1}),P=I[0],T=I[1],N=function(e){return fn(void 0,void 0,void 0,(function(){return pn(this,(function(n){switch(n.label){case 0:return[4,de(e).catch((function(e){return{statusCode:500,body:e.toString()}}))];case 1:return[2,n.sent()]}}))}))},q=function(){return fn(void 0,void 0,void 0,(function(){var n,t,r;return pn(this,(function(o){switch(o.label){case 0:return n={to:l,cc:h,subject:x,body:k},e.onClose(),A({severity:"info",message:e.text.snack.pending,open:!0,onClose:function(){A({open:!1,severity:"info"})}}),t=function(e){return new Promise((function(n){window.setTimeout((function(){n({statusCode:408,body:{}})}),e)}))},[4,Promise.race([N(n),t(3e4)])];case 1:return 200===(r=o.sent()).statusCode?T({severity:"success",message:e.text.snack.done,open:!0,onClose:function(){T({open:!1,severity:"success"})}}):408===r.statusCode?T({severity:"error",message:e.text.snack.timeout,open:!0,onClose:function(){T({open:!1,severity:"error"})}}):T({severity:"error",message:e.text.snack.error,open:!0,onClose:function(){T({open:!1,severity:"error"})}}),[2]}}))}))},M=function(){return!!mn(l)&&l.map((function(e){return Ae(e)})).every((function(e){return e}))},R=function(){return void 0===h||h.map((function(e){return Ae(e)})).every((function(e){return e}))},D=M(),B=R(),X=!0,_=!0,W=M()&&R()&&!0,z={to:mn(l)?!D&&e.text.helper.invalidEmail:e.text.helper.required,cc:!B&&"Invalid email address",subject:!X&&"",body:!_&&""},G={to:function(e){return u(e)},cc:function(e){return g(e)},subject:function(e){return w(e.target.value)},body:function(e){return C(e.target.value)}};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(f.Z,dn({id:"hoge",open:e.open,onClose:e.onClose,className:c.root,maxWidth:"sm",fullWidth:!0,onKeyDown:function(e){return fn(void 0,void 0,void 0,(function(){return pn(this,(function(n){switch(n.label){case 0:return e.ctrlKey&&"Enter"===e.key?(e.preventDefault(),[4,q()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}},{children:[(0,r.jsx)(p.Z,dn({className:c.title,disableTypography:!0},{children:(0,r.jsx)(un.Z,dn({variant:"subtitle1",color:"textSecondary",gutterBottom:!0},{children:e.text.title}),void 0)}),void 0),(0,r.jsxs)(v.Z,dn({className:c.content},{children:[(0,r.jsx)(vn,{children:(0,r.jsxs)(Z.Z,dn({flex:1},{children:[(0,r.jsx)(Z.Z,{children:(0,r.jsx)(Ie,{label:e.text.label.to,required:!0,error:!D,helperText:z.to,chips:l,setChips:G.to},void 0)},void 0),(0,r.jsx)(Z.Z,dn({position:"relative"},{children:(0,r.jsx)(Ie,{label:e.text.label.cc,chips:h,setChips:G.cc,error:!B,helperText:z.cc},void 0)}),void 0)]}),void 0)},void 0),(0,r.jsx)(vn,{children:(0,r.jsx)(S.Z,{variant:"outlined",label:e.text.label.subject,fullWidth:!0,value:x,onChange:G.subject,error:!X,helperText:z.subject},void 0)},void 0),(0,r.jsx)(vn,{children:(0,r.jsx)(S.Z,{variant:"outlined",label:e.text.label.body,fullWidth:!0,multiline:!0,rows:5,rowsMax:15,value:k,onChange:G.body,error:!_,helperText:z.body},void 0)},void 0)]}),void 0),(0,r.jsxs)(m.Z,dn({className:c.action},{children:[(0,r.jsx)(b.Z,dn({onClick:e.onClose},{children:e.text.button.cancel}),void 0),(0,r.jsx)(b.Z,dn({variant:"contained",color:"primary",disabled:!W,onClick:q},{children:e.text.button.send}),void 0)]}),void 0)]}),void 0),(0,r.jsx)(L,dn({},E,{id:"hogehoge"}),void 0),(0,r.jsx)(L,dn({},P),void 0)]},void 0)},gn=t(9394),yn=t(4308),xn=t(3641),wn=t(775),jn=t(9969),Zn=t(2193),kn=t(7346),Cn=function(){return(Cn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},On=(0,g.Z)((function(e){return(0,y.Z)({accordionWrapper:{"&:first-child .MuiAccordion-root:before":{display:"none"},"&.Mui-expanded":{"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0}},"&.MuiAccordion-rounded":{"&:last-child":{borderBottomLeftRadius:4,borderBottomRightRadius:4},"&:first-child":{borderTopLeftRadius:4,borderTopRightRadius:4}}},accordionWrapped:{"&:first-child:before":{display:"block"},"&.Mui-expanded":{"&:first-child":{marginTop:e.spacing(2)},"&:last-child":{marginBottom:e.spacing(2)}},"&.MuiAccordion-rounded":{"&:last-child":{borderBottomLeftRadius:0,borderBottomRightRadius:0},"&:first-child":{borderTopLeftRadius:0,borderTopRightRadius:0}}},summary:{padding:0,"& .MuiAccordionSummary-content":{marginTop:0,marginBottom:0},transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&.Mui-expanded.Mui-focused":{background:"unset"}},hover:{"&:hover":{background:e.palette.action.hover}},summaryContent:{display:"flex",flex:1,alignItems:"center"},expandIcon:{padding:e.spacing(1.5),transform:"rotate(0deg)",transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut})},rotate:{transform:"rotate(180deg)"},dragHandle:{color:e.palette.text.secondary,display:"flex",padding:e.spacing(3,2)},titleInput:{"& .MuiOutlinedInput-input":{background:e.palette.action.selected,transition:e.transitions.create(["background"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeInOut})},"& .MuiOutlinedInput-input:focus":{background:e.palette.background.paper}}})})),En=function(e){e.stopPropagation(),e.preventDefault()},An=function(e){var n=On(),t=e.entry,i=t[0],a=t[1],c=a.config,s=a.index,l=a.title,u=function(n){e.setEntry([i,Cn(Cn({},e.entry[1]),{title:n.target.value})])},d=o.useState(e.initExpanded||!1),f=d[0],p=d[1],v=function(){return p(!f)},h=function(n){var t;En(n),null===(t=e.onClick)||void 0===t||t.call(e,e.entry)},m=function(){return e.handleDelete(i)},b=function(n){return e.setEntry([i,{index:s,title:l,config:n}])},g=function(e,n){if(!n.isDropAnimating)return e;if("bin"===n.draggingOver){var t=n.dropAnimation||{moveTo:{x:0,y:0},curve:"ease",duration:.3},r=t.moveTo,o=t.curve,i=t.duration;return Cn(Cn({},e),{transform:"translate(0px,"+r.y+"px) rotateX(-20deg) scale(0.2)",opacity:0,transition:"transform "+o+" "+(i+.1)+"s, opacity ease-out "+i+"s"})}return e};o.useEffect((function(){(0,on.be)()}),[f]);var y=o.useState(!1),x=y[0],w=y[1],j=o.useState({x:0,y:0}),k=j[0],C=j[1],O=function(){return w(!1)},E=function(e){En(e),C({x:e.clientX,y:e.clientY}),w(!0)},A=function(e){return e.target.select()};return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(kn._l,Cn({draggableId:i,index:e.nth},{children:function(t,o){return(0,r.jsxs)("div",Cn({ref:function(e){return t.innerRef(e)}},t.draggableProps,{style:g(t.draggableProps.style,o),className:n.accordionWrapper},{children:[(0,r.jsxs)(gn.Z,Cn({className:n.accordionWrapped,expanded:f,onClick:En},{children:[(0,r.jsxs)(yn.Z,Cn({className:(0,G.Z)(n.summary,!f&&n.hover),onClick:En,onContextMenu:E},{children:[(0,r.jsxs)(Z.Z,Cn({className:n.summaryContent,onClick:h},{children:[(0,r.jsx)(Z.Z,Cn({className:n.dragHandle,onClick:En},t.dragHandleProps,{tabIndex:-1},{children:(0,r.jsx)(wn.Z,{color:"inherit"},void 0)}),void 0),f?(0,r.jsx)(S.Z,{variant:"outlined",className:n.titleInput,margin:"dense",value:l,onClick:En,onChange:u,onFocus:A},void 0):(0,r.jsx)(un.Z,{children:l},void 0)]}),void 0),(0,r.jsx)(Z.Z,Cn({display:"flex",justifyContent:"center",alignItems:"center",mr:2},{children:(0,r.jsx)(Ve.Z,Cn({className:(0,G.Z)(n.expandIcon,f&&n.rotate),onClick:v},{children:f?(0,r.jsx)(jn.Z,{},void 0):(0,r.jsx)(Zn.Z,{fontSize:"small",style:{margin:"2px"}},void 0)}),void 0)}),void 0)]}),void 0),(0,r.jsx)(xn.Z,{children:(0,r.jsx)(on.ZP,Cn({style:{flex:1},height:400,once:!0,offset:f?0:-window.innerHeight},{children:(0,r.jsx)(zn,{config:c,setConfig:b,handleDelete:m,text:e.text.config},void 0)}),void 0)},void 0)]}),void 0),(0,r.jsx)(_e,{open:x,onClose:O,handleDelete:m,anchorPosition:{top:k.y-8,left:k.x-4}},void 0)]}),void 0)}}),void 0)},void 0)},Sn=function(){return(Sn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},In=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},Pn=(0,g.Z)((function(e){return(0,y.Z)({items:{marginBottom:e.spacing(1)}})})),Tn=function(e){var n=Pn(),t=o.useState(!1),i=t[0],a=t[1];return(0,r.jsx)(kn.Z5,Sn({onDragEnd:function(n){var t,r,o;if(a(!1),null!=n.destination&&(n.source.droppableId!==n.destination.droppableId||n.source.index!==n.destination.index)){if(n.source.droppableId===n.destination.droppableId){var i=function(e,n,t){var r=Array.from(e),o=r.splice(n,1);return r.splice.apply(r,ie([t,0],o)),r}(e.entries,n.source.index,n.destination.index).map((function(e,n){var t=e[0],r=e[1];return[t,Sn(Sn({},r),{index:n})]})),c=i.reduce((function(n,t){var r,o,i=t[0],a=t[1],c=null===(o=Object.fromEntries(e.entries)[i])||void 0===o?void 0:o.index;return a.index!==c?Sn(Sn({},n),((r={})[i]=a,r)):n}),{});null===(t=e.onAdd)||void 0===t||t.call(e,c),e.setEntries(i)}if("bin"===n.destination.droppableId){var s=null===(r=e.entries[n.source.index])||void 0===r?void 0:r[0],l=e.entries.reduce((function(e,n,t){var r=n[0],o=n[1];return r!==s?In(In([],e),[[r,Sn(Sn({},o),{index:t})]]):e}),[]);s&&(null===(o=e.onRemove)||void 0===o||o.call(e,s)),e.setEntries(l)}}},onBeforeCapture:function(){a(!0)}},{children:(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(kn.bK,Sn({droppableId:"hinagataList"},{children:function(t){return(0,r.jsxs)("div",Sn({},t.droppableProps,{ref:function(e){return t.innerRef(e)}},{children:[(0,r.jsx)(Z.Z,Sn({className:n.items},{children:e.children}),void 0),t.placeholder]}),void 0)}}),void 0),i&&(0,r.jsx)(Dn,{droppableId:"bin"},void 0)]},void 0)}),void 0)},Nn=t(4130),qn=function(){return(qn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Mn=(0,I.Z)(Z.Z)((function(){return{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}})),Rn=(0,I.Z)("div")((function(e){var n=e.theme;return{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",height:80,width:"calc(100% + 8px)",transform:"translateX(-4px)",overflow:"hidden",color:n.palette.text.secondary,border:"dashed",borderWidth:2,borderColor:n.palette.divider,transition:n.transitions.create(["background","borderColor"],{duration:n.transitions.duration.shortest,easing:n.transitions.easing.easeOut}),"&:hover":{borderColor:n.palette.error.main,background:n.palette.action.hover}}})),Dn=function(e){return(0,r.jsx)(kn.bK,qn({droppableId:e.droppableId},{children:function(e){return(0,r.jsxs)(Rn,qn({},e.droppableProps,{ref:function(n){return e.innerRef(n)}},{children:[(0,r.jsx)(Mn,{children:(0,r.jsx)(Nn.Z,{fontSize:"large",color:"inherit"},void 0)},void 0),e.placeholder]}),void 0)}}),void 0)},Bn=function(){return(Bn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Xn=(0,I.Z)(Z.Z)((function(e){return{display:"flex",flex:1,padding:e.theme.spacing(1,0)}})),_n=(0,I.Z)(Z.Z)((function(e){return{flex:1,padding:e.theme.spacing(1,0)}})),Ln=(0,g.Z)((function(e){return(0,y.Z)({root:{flex:1,padding:e.spacing(0,2)},column:{flexDirection:"column"},boxForm:{marginTop:e.spacing(2)},action:{marginRight:e.spacing(2),justifyContent:"flex-end"},delete:{color:e.palette.error.contrastText,background:e.palette.error.main,transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&:hover":{background:e.palette.error.dark}}})})),Wn={to:[],cc:[],subject:"",body:"",signature:void 0},zn=function(e){var n=Ln(),t=o.useState(!1),i=t[0],a=t[1],c=o.useState(Wn),s=c[0],l=c[1];o.useEffect((function(){l(Bn(Bn({},Wn),e.config))}),[e.config]);var u=o.useState(0),d=u[0],f=u[1],p=function(n,t){var r,o=Bn(Bn({},s),((r={})[n]=t,r));l(o),window.clearTimeout(d);var i=window.setTimeout((function(){e.setConfig(o)}),900);f(i)},v={to:function(e){return p("to",e)},cc:function(e){return p("cc",e)},subject:function(e){return p("subject",e.target.value)},body:function(e){return p("body",e.target.value)}};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(Z.Z,Bn({className:n.root},{children:[(0,r.jsxs)(Xn,Bn({className:n.column,mb:2},{children:[(0,r.jsx)(_n,{children:(0,r.jsx)(Ie,{label:e.text.label.to,chips:s.to,setChips:v.to},void 0)},void 0),(0,r.jsx)(_n,{children:(0,r.jsx)(Ie,{label:e.text.label.cc,chips:s.cc,setChips:v.cc},void 0)},void 0)]}),void 0),(0,r.jsx)(Xn,{children:(0,r.jsx)(S.Z,{variant:"outlined",label:e.text.label.subject,fullWidth:!0,value:s.subject,onChange:v.subject},void 0)},void 0),(0,r.jsx)(Z.Z,Bn({mb:1},{children:(0,r.jsx)(Xn,{children:(0,r.jsx)(S.Z,{variant:"outlined",label:e.text.label.body,fullWidth:!0,multiline:!0,rows:5,rowsMax:15,className:n.boxForm,value:s.body,onChange:v.body},void 0)},void 0)}),void 0),(0,r.jsx)(Xn,Bn({className:n.action},{children:(0,r.jsx)(b.Z,Bn({variant:"contained",color:"inherit",className:n.delete,onClick:function(){a(!0)}},{children:e.text.button.delete}),void 0)}),void 0)]}),void 0),(0,r.jsx)(j,{open:i,onClose:function(){a(!1)},onClick:e.handleDelete,title:e.text.deleteConfirm.title,message:e.text.deleteConfirm.message},void 0)]},void 0)},Gn=t(3651),Hn=function(){return(Hn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Fn=(0,g.Z)((function(e){return(0,y.Z)({logo:{display:"block",fill:e.palette.text.secondary,height:e.typography.h6.fontSize},appRoot:{overflowX:"hidden",width:"100%"}})}));const Un=function(){var e,n=Fn();return(0,r.jsx)(Gn.Z,{children:(0,r.jsx)("div",Hn({className:n.appRoot},{children:(0,r.jsx)(rn,{title:(0,r.jsx)(c,{className:n.logo},void 0),url:"https://not-dev.github.io/garmail/",dbPrefix:"GarMail",examples:(e={},e[(0,an.Z)()]={index:0,title:"日報",config:{to:["manager@example.com","chief@example.com"],cc:["staff-a@example.com","staff-b@example.com"],subject:"【日報】 %LASTNAME% (%TODAY%)",body:"本日の作業内容です。\n\n%CLIPBOARD%\n\n以上"}},e[(0,an.Z)()]={index:1,title:"部内ML",config:{to:['"マネージャー" <manager@example.com>','"チーフ" <chief@example.com>','"スタッフA" <staff-a@example.com>','"スタッフB" <staff-b@example.com>']}},e[(0,an.Z)()]={index:2,title:"見積依頼",config:{subject:"見積書ご送付の依頼",body:"株式会社XXXX\n              XXXX様\n\n              平素より大変お世話になっております。\n              株式会社EXAMPLE 情報システム部の%NAME%です。\n\n              先日貴社へお伺いした際にご提案いただきました\n              貴社製品の「XXXX」について、社内で購入を検討しております。\n\n              つきましては下記条件にてお見積書を作成いただき、\n              ご送付くださいますようお願い申し上げます。\n\n              ----------\n              商品名：XXXX\n              数量：XXXX\n              納期：XXXX\n              ----------\n\n              不明点等ございましたらお申し付けください。\n\n              お手数をおかけしますが、\n              何卒宜しくお願い申し上げます。\n\n              %SIGNATURE%\n              ".replace(/^[^\S\n]{12}/gm,"")}},e),text:{tooltip:{help:"ヘルプ"},main:{newEntry:{title:"新しいテンプレート"},hinagata:{config:{label:{to:"to",cc:"cc",subject:"subject",body:"body"},deleteConfirm:{title:"",message:"削除しますか？"},button:{delete:"DELETE"}}},mailer:{title:"送信確認",label:{to:"to",cc:"cc",subject:"subject",body:"body"},helper:{invalidEmail:"不正な入力です",required:"必須項目"},button:{send:"送信",cancel:"キャンセル"},snack:{pending:"送信中",done:"完了",error:"エラー",timeout:"タイムアウト"}}}}},void 0)}),void 0)},void 0)}}}]);