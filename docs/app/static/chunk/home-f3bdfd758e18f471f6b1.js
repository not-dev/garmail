(self.webpackChunk=self.webpackChunk||[]).push([[177],{4964:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Gn});var r=t(4246),o=t(7378);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var a=o.createElement("path",{d:"M19.761 40.69q-4.115 0-7.721-1.574-3.556-1.575-6.3-4.369-2.692-2.845-4.216-6.502Q0 24.536 0 20.32q0-4.166 1.473-7.823Q2.997 8.788 5.69 5.994 8.433 3.2 11.989 1.626 15.596 0 19.76 0q3.658 0 6.655 1.067 2.997 1.067 5.791 3.403.457.356.508.864.102.457-.101.914-.204.407-.61.61-.102.406-.508.61-.406.203-.965.152-.508-.05-1.016-.457-1.981-1.727-4.318-2.54-2.337-.864-5.436-.864-3.302 0-6.197 1.321-2.845 1.32-5.03 3.607Q6.35 10.973 5.08 13.97q-1.22 2.997-1.22 6.35 0 3.454 1.22 6.452 1.27 2.997 3.454 5.283t5.03 3.607q2.895 1.27 6.197 1.27 2.794 0 5.283-.915t4.725-2.641q.61-.508 1.27-.407.711.102 1.219.61t.508 1.32q0 .407-.102.763-.101.304-.457.66-2.59 2.388-5.791 3.404-3.2.965-6.655.965zm13.005-5.79l-3.86-.813V23.876H20.98q-.863 0-1.422-.508-.559-.508-.559-1.27t.559-1.22q.559-.507 1.422-.507h9.805q.863 0 1.422.559.559.508.559 1.371zm18.106 5.537q-3.911 0-7.01-1.829-3.099-1.88-4.928-5.08-1.778-3.2-1.778-7.214 0-4.064 1.829-7.264 1.88-3.2 5.08-5.03 3.2-1.879 7.214-1.879 4.013 0 7.162 1.88 3.2 1.829 5.03 5.029 1.88 3.2 1.93 7.264l-1.575 1.22q0 3.657-1.727 6.604-1.676 2.895-4.623 4.622-2.895 1.677-6.604 1.677zm.407-3.556q2.946 0 5.232-1.372 2.337-1.371 3.658-3.759 1.371-2.438 1.371-5.436 0-3.048-1.371-5.435-1.321-2.388-3.658-3.76-2.286-1.422-5.232-1.422-2.896 0-5.233 1.423-2.337 1.371-3.708 3.759t-1.372 5.435q0 2.998 1.372 5.436 1.371 2.388 3.708 3.76t5.233 1.37zm12.14 3.302q-.863 0-1.422-.508-.558-.559-.558-1.423v-8.686l.965-4.014 2.997.762v11.938q0 .864-.559 1.423-.559.508-1.422.508zm11.265-17.12q.152-3.15 1.626-5.639 1.524-2.489 3.911-3.911 2.439-1.423 5.385-1.423 2.337 0 3.607.66 1.27.661.965 1.931-.203.762-.711 1.016-.457.254-1.169.203-.66-.05-1.524-.101-2.844-.254-5.08.61-2.184.812-3.505 2.54-1.27 1.727-1.27 4.114zm.305 17.12q-.915 0-1.423-.508t-.508-1.423V14.326q0-.915.508-1.423t1.423-.508q.914 0 1.422.508.508.508.508 1.423v23.926q0 .915-.508 1.423t-1.422.508zm23.875 0q-.813 0-1.422-.559-.56-.61-.56-1.422V2.489q0-.863.56-1.422.61-.559 1.422-.559 1.22 0 1.778 1.016l17.12 34.036h-1.728L132.85 1.524q.61-1.016 1.778-1.016.813 0 1.372.559t.559 1.422v35.713q0 .812-.56 1.422-.558.559-1.37.559-.864 0-1.474-.559-.559-.61-.559-1.422V7.62l.864.05-14.986 30.633q-.56.965-1.727.965-1.27 0-1.83-1.219L99.83 7.874l1.016-.254v30.582q0 .812-.61 1.422-.558.559-1.371.559zm59.561.254q-3.911 0-7.01-1.829-3.099-1.88-4.928-5.08-1.778-3.2-1.778-7.214 0-4.064 1.83-7.264 1.879-3.2 5.08-5.03 3.2-1.879 7.213-1.879t7.163 1.88q3.2 1.829 5.029 5.029 1.88 3.2 1.93 7.264l-1.575 1.22q0 3.657-1.727 6.604-1.676 2.895-4.623 4.622-2.895 1.677-6.604 1.677zm.407-3.556q2.946 0 5.232-1.372 2.337-1.371 3.658-3.759 1.371-2.438 1.371-5.436 0-3.048-1.371-5.435-1.321-2.388-3.658-3.76-2.286-1.422-5.232-1.422-2.896 0-5.233 1.423-2.336 1.371-3.708 3.759t-1.372 5.435q0 2.998 1.372 5.436 1.372 2.388 3.708 3.76t5.233 1.37zm12.141 3.302q-.864 0-1.422-.508-.56-.559-.56-1.423v-8.686l.966-4.014 2.997.762v11.938q0 .864-.559 1.423-.558.508-1.422.508zm12.432 0q-.914 0-1.473-.508-.508-.559-.508-1.473V14.376q0-.914.508-1.422.56-.559 1.473-.559.864 0 1.372.559.559.508.559 1.422v23.826q0 .914-.559 1.473-.508.508-1.372.508zm-.05-33.071q-1.118 0-1.93-.813t-.814-1.981q0-1.27.813-1.981.864-.762 1.981-.762 1.067 0 1.88.762.864.711.864 1.981 0 1.168-.813 1.981t-1.981.813zm17.935 33.07q-2.032 0-3.657-1.117-1.575-1.117-2.49-3.099-.863-1.98-.863-4.572V2.438q0-.863.508-1.371.559-.559 1.422-.559.864 0 1.372.559.559.508.559 1.371v28.956q0 2.185.863 3.556.915 1.372 2.286 1.372h1.27q.762 0 1.22.559.457.508.457 1.371 0 .864-.66 1.423-.61.508-1.626.508z",strokeWidth:.265,"aria-label":"GarMail"});const c=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 204.237 40.691"},e),a)};var s=t(3651),l=t(373),u=t(8559),d=t(927),f=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},p=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},h=function(){function e(e){this._name=e||"localforage",this.store=d.createInstance({name:this._name})}return e.prototype.setDBName=function(e){this._name=e,this.store.config({name:this._name})},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,this.setDBName(e)},enumerable:!1,configurable:!0}),e.prototype.getItemsAll=function(){return f(this,void 0,void 0,(function(){var e;return p(this,(function(n){switch(n.label){case 0:return e={},[4,this.store.iterate((function(n,t){e[t]=n}))];case 1:return n.sent(),[2,e]}}))}))},e.prototype.getItem=function(e){return f(this,void 0,void 0,(function(){var n;return p(this,(function(t){switch(t.label){case 0:return[4,this.store.getItem(e)];case 1:return null==(n=t.sent())?[2,null]:[2,n]}}))}))},e.prototype.setItem=function(e){return f(this,void 0,void 0,(function(){var n=this;return p(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Object.entries(e).map((function(e){var t=e[0],r=e[1];return f(n,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.store.setItem(t,r)];case 1:return[2,e.sent()]}}))}))})))];case 1:return t.sent(),[2]}}))}))},e.prototype.removeItem=function(e){return f(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return[4,this.store.removeItem(e)];case 1:return n.sent(),[2]}}))}))},e}(),v=t(6116),m=t(8681),b=t(6009),g=t(5576),y=t(3086),x=t(547),j=t(1655),w=t(6998),Z=t(323),k=t(7424),O=t(8874),C=t(7382),E=t(9334),A=function(){return(A=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},P=(0,l.Z)((function(e){return(0,u.Z)({root:{},content:{},action:{marginRight:e.spacing(3),padding:e.spacing(2,1)},delete:{color:e.palette.error.contrastText,background:e.palette.error.main,transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&:hover":{background:e.palette.error.dark}}})})),S=function(e){var n=P();return(0,r.jsxs)(w.Z,A({open:e.open,onClose:e.onClose,className:n.root,maxWidth:"sm",fullWidth:!0},{children:[(0,r.jsx)(Z.Z,{children:e.title},void 0),(0,r.jsx)(k.Z,A({className:n.content},{children:(0,r.jsx)(O.Z,{children:e.message},void 0)}),void 0),(0,r.jsxs)(C.Z,A({className:n.action},{children:[(0,r.jsx)(E.Z,A({onClick:e.onClose},{children:"CANCEL"}),void 0),(0,r.jsx)(E.Z,A({variant:"contained",color:"inherit",className:n.delete,onClick:function(){e.onClick(),e.onClose()}},{children:"DELETE"}),void 0)]}),void 0)]}),void 0)},I=t(2883),T=t(1347),N=function(){return(N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},q=(0,l.Z)((function(e){return(0,u.Z)({wrapper:{display:"flex",justifyContent:"center",margin:e.spacing(2)}})})),R=function(e){var n=q();return(0,r.jsx)(b.Z,N({className:n.wrapper},{children:(0,r.jsx)(I.Z,N({size:"small",color:"primary",onClick:e.onClick},{children:(0,r.jsx)(T.Z,{},void 0)}),void 0)}),void 0)},M=t(5206),D=t(7779),X=function(){return(X=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},B=(0,D.Z)(M.Z)((function(e){var n=e.theme,t=e.indent;return{"& .MuiInput-input":{textIndent:function(){return"string"==typeof t?t:"number"==typeof t?n.spacing(t)+"px":void 0}}}})),W=function(e){return(0,r.jsx)(B,X({},e),void 0)},_=t(925),z=t(8134),L=function(){return(L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},G=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},F=function(e){return(0,r.jsx)(z.Z,L({elevation:6,variant:"filled"},e),void 0)},H=(0,l.Z)((function(e){return{content:{minWidth:320,color:e.palette.common.white}}})),U=function(e){var n=e.severity,t=e.message,o=e.alertProps,i=G(e,["severity","message","alertProps"]),a=H();return(0,r.jsx)(v.Z,L({maxWidth:"lg",fixed:!0},{children:(0,r.jsx)(_.Z,L({open:i.open,onClose:i.onClose,autoHideDuration:3e3},i,{children:(0,r.jsx)(F,L({className:a.content,severity:n},o,{children:t}),void 0)}),void 0)}),void 0)},Y=t(1559),V=t(4002),K=t(8944),Q=function(){return(Q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},J=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},$=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},ee=(0,l.Z)((function(e){return(0,u.Z)({chipBox:{position:"absolute",top:e.spacing(2),left:0},chip:{margin:e.spacing(.5)},chipText:{"& .MuiInputLabel-root.MuiInputLabel-shrink + .MuiInput-root > .MuiInput-input":{lineHeight:"30px"}},invalidChip:{color:e.palette.error.main,borderColor:e.palette.error.main,"&:hover":{background:e.palette.error.main},"& svg":{color:e.palette.error.main,"&:hover":{color:e.palette.error.dark}}}})})),ne=function(e){var n,t,i=o.useState(0),a=i[0],c=i[1],s=o.useState(0),l=s[0],u=s[1],d=ee(),f=e.sep,p=void 0===f?",":f,h=e.chips,v=e.setChips,m=e.validate,g=e.muiChipProps,y=J(e,["sep","chips","setChips","validate","muiChipProps"]),x=o.useState(""),j=x[0],w=x[1],Z=o.useRef(null),k=o.useRef(null),O=o.useState(!1),C=O[0],E=O[1];o.useEffect((function(){var e,n;c((null===(e=k.current)||void 0===e?void 0:e.offsetWidth)||0),u((null===(n=k.current)||void 0===n?void 0:n.offsetHeight)||0)}),[h]);var A=C||!!j||h.length>0;return(0,r.jsxs)(b.Z,Q({position:"relative"},{children:[(0,r.jsx)(W,Q({inputRef:Z,className:d.chipText,value:j,onChange:function(e){var n=e.target.value;if(w(n),n.includes(p)){var t=n.split(p).reverse(),r=t[0],o=t.slice(1);w(r||""),v($($([],h),o.filter((function(e){return e.trim()&&e!==p}))))}},indent:0!==a&&a<((null===(n=Z.current)||void 0===n?void 0:n.offsetWidth)||0)?a+8+"px":0,style:{paddingTop:a<((null===(t=Z.current)||void 0===t?void 0:t.offsetWidth)||0)?0:l},onFocus:function(){return E(!0)},onBlur:function(){E(!1);var e=j.split(p).reverse().slice(0);w(""),v($($([],h),e.filter((function(e){return e.trim()&&e!==p}))))},InputLabelProps:{shrink:A},onKeyDown:function(e){var n;if("Backspace"===e.key&&0===(null===(n=null==Z?void 0:Z.current)||void 0===n?void 0:n.selectionStart)&&h.length>0){e.preventDefault();var t=h.reverse().slice(1);v(t)}}},y),void 0),(0,r.jsx)(Y.Z,Q({rootRef:k},{children:(0,r.jsx)(b.Z,Q({className:d.chipBox},{children:h.map((function(e,n){var t=void 0!==m&&!m(e);return(0,r.jsx)(V.Z,Q({className:(0,K.Z)(d.chip,t&&d.invalidChip),label:e,clickable:!0,variant:t?"outlined":"default",onDoubleClick:function(){return function(e,n){var t;null===(t=Z.current)||void 0===t||t.focus(),w(e),v(h.filter((function(e,t){return t!==n})))}(e,n)},onDelete:function(){return function(e){v(h.filter((function(n,t){return t!==e})))}(n)}},g),e+"-"+n)}))}),void 0)}),void 0)]}),void 0)},te=t(4206),re=t.n(te),oe=t(7693),ie=t.n(oe),ae=t(6600),ce=t.n(ae),se=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},le=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ue=function(e,n){return se(void 0,void 0,void 0,(function(){var t,r,o,i,a,c,s;return le(this,(function(l){switch(l.label){case 0:if("cybozu.com"!==location.hostname.split(".").slice(-2).join("."))throw new Error('Domain is not "cybozu.com"');return t=function(e){ie().extend(ce());var n=ie()().utc().format(),t=ie()().add(1,"month").utc().format();return'<?xml version="1.0" encoding="UTF-8"?>\n<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">\n  <soap:Header>\n      <Action>%ACTION%</Action>\n      <Security>\n        <UsernameToken>\n          <Username></Username>\n          <Password></Password>\n        </UsernameToken>\n      </Security>\n      <Timestamp>\n        <Created>%CREATED%</Created>\n        <Expires>%EXPIRES%</Expires>\n      </Timestamp>\n      <Locale>jp</Locale>\n  </soap:Header>\n  <soap:Body>\n    <%ACTION%>\n      %PARAMETERS%\n    </%ACTION%>\n  </soap:Body>\n</soap:Envelope>\n'.replaceAll("%ACTION%",e.action).replaceAll("%PARAMETERS%",e.parameters).replaceAll("%CREATED%",n).replaceAll("%EXPIRES%",t)}(n),[4,re().post(e,t,{headers:{Host:location.hostname,"Content-Type":"text/xml; charset=UTF-8",Cookie:"JSESSIONID"}})];case 1:return r=l.sent(),o=r.status,i=r.request.response,a=new DOMParser,c=a.parseFromString(i,"application/xml"),[2,(s=c.getElementsByTagName("returns")[0])?{statusCode:o,body:{returns:s}}:{statusCode:500,body:{}}]}}))}))},de=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},fe=function(e){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&apos;")},pe=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},he=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ve=function(){return pe(void 0,void 0,void 0,(function(){var e,n,t;return he(this,(function(r){switch(r.label){case 0:return[4,ue("/g/cbpapi/mail/api.csp?",{action:"MailGetProfiles",parameters:'<parameters include_system_profile="false"></parameters>'})];case 1:return e=r.sent(),n=(null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("from_name"))||[],[2,Array.from(n).map((function(e){return e.getAttribute("account_id")}))[0]||void 0]}}))}))},me=function(e){var n=e.to,t=e.subject,r=e.body,o=e.cc;return pe(void 0,void 0,void 0,(function(){var e,i,a,c,s;return he(this,(function(l){switch(l.label){case 0:return[4,ye()];case 1:if(void 0===(e=l.sent()))throw new Error("token is undefined");return[4,ve()];case 2:if(void 0===(i=l.sent()))throw new Error("accountId is undefined");return[4,(u=i,pe(void 0,void 0,void 0,(function(){var e,n,t;return he(this,(function(r){switch(r.label){case 0:return[4,ue("/g/cbpapi/mail/api.csp?",{action:"MailGetAccountsById",parameters:'<parameters><account_id xmlns="">'+u+"</account_id></parameters>"})];case 1:return e=r.sent(),[2,(null===(t=null===(n=e.body.returns)||void 0===n?void 0:n.getElementsByTagName("account")[0])||void 0===t?void 0:t.getAttribute("email"))||void 0]}}))})))];case 3:if(void 0===(a=l.sent()))throw new Error("email is undefined");return c="string"==typeof n?fe(n):n.map((function(e){return fe(e)})).join(","),s=void 0===o?"":"string"==typeof o?fe(o):o.map((function(e){return fe(e)})).join(","),[4,ue("/g/cbpapi/mail/api.csp?",{action:"MailSendMails",parameters:"<parameters>\n  <request_token>"+e+'</request_token>\n  <send_mail xmlns=""\n    account_id="'+i+'"\n    from_string="'+a+'"\n    to_string="'+c+'"\n    cc_string="'+s+'"\n    >\n    <mail xmlns="" key="dummy" version="dummy" folder_key="1"\n      subject="'+t+'"\n      body="'+r+'"\n      >\n    </mail>\n  </send_mail>\n</parameters>\n'})];case 4:return[2,l.sent()]}var u}))}))},be=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},ge=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ye=function(){return be(void 0,void 0,void 0,(function(){var e,n,t;return ge(this,(function(r){switch(r.label){case 0:return[4,ue("/g/util_api/util/api.csp?",{action:"UtilGetRequestToken",parameters:"<parameters></parameters>"})];case 1:return e=r.sent(),[2,null===(t=null===(n=e.body.returns)||void 0===n?void 0:n.getElementsByTagName("request_token")[0])||void 0===t?void 0:t.innerHTML]}}))}))},xe=function(){return be(void 0,void 0,void 0,(function(){return ge(this,(function(e){return[2,new Promise((function(e){e(garoon.base.user.getLoginUser())}))]}))}))},je=t(7559),we=function(){return(we=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ze=function(e){var n;if((0,je.G)(e))return!0;var t=/^"?(?<username>.*?)"?\s*<(?<email>.+)>$/.exec(e);return!!(null!=t&&t.length>1&&(0,je.G)((null===(n=t.groups)||void 0===n?void 0:n.email)||""))&&we({},t.groups)},ke=function(){return(ke=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Oe=function(e){return(0,r.jsx)(ne,ke({sep:",",validate:function(e){return!!Ze(e)}},e),void 0)},Ce=t(3456),Ee=t(9670),Ae=t(3218),Pe=t(7299),Se=t(2082),Ie=function(){return(Ie=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Te=(0,D.Z)(Ce.Z)((function(e){return{padding:e.theme.spacing(1,2)}})),Ne=(0,D.Z)(b.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center"}})),qe=(0,l.Z)((function(e){return(0,u.Z)({root:{"& .MuiMenu-list":{minWidth:e.spacing(20)}},icon:{marginRight:e.typography.button.fontSize,minWidth:e.typography.button.fontSize}})})),Re=function(e){var n=qe(),t=e.anchorPosition?"anchorPosition":"anchorEl";return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(Ee.Z,Ie({className:n.root,open:e.open,onClick:e.onClose,onContextMenu:e.onClose,onClose:e.onClose,anchorEl:e.anchorEl,anchorPosition:e.anchorPosition,anchorReference:t,keepMounted:!0},{children:(0,r.jsxs)(Te,Ie({onClick:e.handleDelete},{children:[(0,r.jsx)(Ne,Ie({mb:.25},{children:(0,r.jsx)(Ae.Z,Ie({className:n.icon},{children:(0,r.jsx)(Se.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,r.jsx)(Pe.Z,{primary:"Delete"},void 0)]}),void 0)}),void 0)},void 0)},Me=t(7820),De=function(){return(De=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Xe=(0,D.Z)(b.Z)((function(e){return{display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:e.theme.spacing(5)}})),Be=(0,l.Z)((function(e){return(0,u.Z)({progress:{color:e.palette.text.secondary}})})),We=function(){var e=Be();return(0,r.jsx)(Xe,De({className:e.progress},{children:(0,r.jsx)(Me.Z,{color:"inherit"},void 0)}),void 0)},_e=t(2470),ze=t.n(_e),Le=function(){return(Le=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ge=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},Fe=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},He=(0,l.Z)((function(e){return(0,u.Z)({root:{padding:e.spacing(4)},toolbar:{padding:e.spacing(2)}})})),Ue=function(e){var n=He(),t=new h(e.dbPrefix+"-Items"),i=function(e){t.setItem(e).catch((function(e){throw e}))},a=function(e){t.removeItem(e).catch((function(e){throw e}))};return(0,r.jsxs)(v.Z,Le({maxWidth:"sm",className:n.root},{children:[(0,r.jsxs)(m.Z,Le({className:n.toolbar},{children:[(0,r.jsx)(b.Z,Le({flex:1},{children:e.title}),void 0),(0,r.jsx)(b.Z,{children:(0,r.jsx)(g.Z,Le({href:e.url,target:"_blank",rel:"noreferrer",tabIndex:-1},{children:(0,r.jsx)(y.ZP,Le({title:e.text.tooltip.help,enterDelay:300},{children:(0,r.jsx)(x.Z,{children:(0,r.jsx)(j.Z,{},void 0)},void 0)}),void 0)}),void 0)},void 0)]}),void 0),(0,r.jsx)(o.Suspense,Le({fallback:(0,r.jsx)(We,{},void 0)},{children:(0,r.jsx)((function(){var n=ze()((function(){return Ge(void 0,void 0,void 0,(function(){return Fe(this,(function(e){switch(e.label){case 0:return[4,t.getItemsAll()];case 1:return[2,e.sent()]}}))}))}),[]),c=Object.entries(n);0===c.length&&void 0!==e.examples&&(c.push.apply(c,Object.entries(e.examples)),i(e.examples));var s=c.filter((function(e){var n=e[0],t=e[1],r=t.config,o=t.index,i=function(){return a(n),!1};return void 0===r||void 0===o||"number"!=typeof o?i():"object"==typeof r&&null!=r&&!Array.isArray(r)||i()})).sort((function(e,n){return e[1].index-n[1].index}));return(0,r.jsx)(o.Suspense,Le({fallback:(0,r.jsx)(We,{},void 0)},{children:(0,r.jsx)(Je,{initEntries:s,onAdd:i,onRemove:a,text:e.text.main},void 0)}),void 0)}),{},void 0)}),void 0)]}),void 0)},Ye=t(2221),Ve=t(9887),Ke=function(){return(Ke=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Qe=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},Je=function(e){var n=o.useState([]),t=n[0],i=n[1];o.useEffect((function(){i(e.initEntries)}),[e.initEntries]);var a=o.useState(null),c=a[0],s=a[1],l=function(e){s(e[1].config)},u=o.useState(void 0),d=u[0],f=u[1],p=function(n){var r,o,a=n[0],c=n[1],s=c.config,l=c.index,u=c.title,d=((r={})[a]={config:s,index:l,title:u},r),f=Object.fromEntries(t);Object.entries(d).forEach((function(e){var n=e[0],t=e[1];f[n]=t})),i(Object.entries(f)),null===(o=e.onAdd)||void 0===o||o.call(e,d)},h=function(n){var r;i(t.filter((function(e){return e[0]!==n}))),null===(r=e.onRemove)||void 0===r||r.call(e,n)};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Sn,Ke({entries:t,setEntries:i,onAdd:e.onAdd,onRemove:e.onRemove},{children:t.map((function(n,t){return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(Ye.ZP,Ke({height:72,offset:100},{children:(0,r.jsx)(Cn,{nth:t,entry:n,setEntry:p,onClick:l,handleDelete:h,text:e.text.hinagata,initExpanded:t===d},void 0)}),void 0)},n[0])}))}),void 0),null==c||(0,r.jsx)(vn,{config:c,open:!0,onClose:function(){return s(null)},text:e.text.mailer},void 0),(0,r.jsx)(R,{onClick:function(){var n,r,o=[(0,Ve.Z)(),{config:{},index:t.length,title:e.text.newEntry.title}];f(t.length),i(Qe(Qe([],t),[o])),null===(r=e.onAdd)||void 0===r||r.call(e,((n={})[o[0]]=o[1],n))}},void 0)]},void 0)},$e=t(4344),en=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},nn=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},tn={clipboard:"%CLIPBOARD%",lastName:"%LASTNAME%",name:"%NAME%",today:"%TODAY%",signature:"SIGNATURE"},rn=function(e){return en(void 0,void 0,void 0,(function(){var n,t;return nn(this,(function(r){switch(r.label){case 0:return e.includes(tn.clipboard)?[4,navigator.permissions.query({name:"clipboard-read"})]:[3,3];case 1:if("denied"===(n=r.sent()).state)throw new Error("clipboard permissions is denied");return[4,navigator.clipboard.readText().catch((function(e){if("granted"!==n.state)throw new Error("clipboard permissions is not granted");throw e}))];case 2:return t=r.sent(),[2,e.replaceAll(tn.clipboard,t)];case 3:return[2,e]}}))}))},on=function(e){return en(void 0,void 0,void 0,(function(){var n;return nn(this,(function(t){switch(t.label){case 0:return e.includes(tn.lastName)?[4,xe()]:[3,2];case 1:if(void 0===(n=t.sent().name.split(/\s/)[0]))throw new Error("Garoon Name is undefined");return[2,e.replaceAll(tn.lastName,n)];case 2:return[2,e]}}))}))},an=function(e){return en(void 0,void 0,void 0,(function(){var n;return nn(this,(function(t){switch(t.label){case 0:return e.includes(tn.name)?[4,xe()]:[3,2];case 1:if(void 0===(n=t.sent().name))throw new Error("Garoon Name is undefined");return[2,e.replaceAll(tn.name,n)];case 2:return[2,e]}}))}))},cn=function(e){return en(void 0,void 0,void 0,(function(){var n,t;return nn(this,(function(r){switch(r.label){case 0:return n=new RegExp("%"+tn.signature.replaceAll("%","")+"(\\[(?<index>.*?)\\])?%","g"),t=e.matchAll(n),[4,Array.from(new Set(t)).reduce((function(e,n){return en(void 0,void 0,void 0,(function(){var t,r,o,i,a,c,s;return nn(this,(function(l){switch(l.label){case 0:return[4,e];case 1:return t=l.sent(),(r=n[0])?(o=(null===(c=n.groups)||void 0===c?void 0:c.index)?parseInt(null===(s=n.groups)||void 0===s?void 0:s.index):0,[4,ve()]):[3,4];case 2:if(void 0===(i=l.sent()))throw new Error("AccountID is undefined");return[4,(u=i,pe(void 0,void 0,void 0,(function(){var e,n,t;return he(this,(function(r){switch(r.label){case 0:return[4,ue("/g/cbpapi/mail/api.csp?",{action:"MailGetSignatures",parameters:'<parameters account_id="'+u+'"></parameters>'})];case 1:return e=r.sent(),n=(null===(t=e.body.returns)||void 0===t?void 0:t.getElementsByTagName("signature"))||[],[2,Array.from(n).map((function(e){var n=e.getAttribute("name"),t=e.getAttribute("content");return null!=n&&null!=t?{name:n,content:t}:void 0}))]}}))})))];case 3:if(void 0===(a=l.sent()[o]))throw new Error("Garoon signature is undefined");return[2,t.replace(r,a.content)];case 4:return[2,t]}var u}))}))}),Promise.resolve(e))];case 1:return[2,r.sent()]}}))}))},sn=function(e){return en(void 0,void 0,void 0,(function(){var n,t;return nn(this,(function(r){switch(r.label){case 0:return t=[],[4,rn(n=e).catch((function(e){return t.push("クリップボードを取得できませんでした"),n}))];case 1:return n=r.sent(),[4,cn(n).catch((function(e){return t.push("署名を取得できませんでした"),n}))];case 2:return n=r.sent(),[4,on(n).catch((function(e){return t.push("名前を取得できませんでした"),n}))];case 3:return n=r.sent(),[4,an(n).catch((function(e){return t.push("名前を取得できませんでした"),n}))];case 4:n=r.sent();try{n=function(e){var n=new RegExp("%"+tn.today.replaceAll("%","")+"(\\[(?<format>.*?)\\])?%","g"),t=e.matchAll(n);return Array.from(new Set(t)).reduce((function(e,n){var t,r=n[0];if(r){var o=(null===(t=n.groups)||void 0===t?void 0:t.format)||"YYYYMMDD",i=ie()().format(o);return e.replace(r,i)}return e}),e)}(n)}catch(e){t.push("日付を取得できませんでした")}return t.length>0&&window.alert(t.join("\n")),[2,n]}}))}))},ln=function(){return(ln=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},un=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))},dn=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},fn=(0,D.Z)("div")((function(e){return{display:"flex",padding:e.theme.spacing(2)}})),pn=(0,l.Z)((function(e){return(0,u.Z)({root:{},title:{paddingBottom:e.spacing(0)},content:{padding:e.spacing(0,3)},action:{marginRight:e.spacing(4),padding:e.spacing(2,1)}})})),hn=function(e){return void 0!==e&&null!=e&&("string"==typeof e?""!==e.trim():Array.isArray(e)?e.length>0&&e.map((function(e){return hn(e)})).some((function(e){return e})):"object"!=typeof e||0!==Object.keys(e).length)},vn=function(e){var n=pn(),t=o.useState(e.config.to||[]),i=t[0],a=t[1],c=o.useState(e.config.cc||[]),s=c[0],l=c[1],u=o.useState(e.config.subject||""),d=u[0],f=u[1],p=o.useState(e.config.body||""),h=p[0],v=p[1];o.useEffect((function(){a(e.config.to||[]),l(e.config.cc||[]),f(e.config.subject||""),v(e.config.body||""),sn(e.config.subject||"").then((function(e){f(e)})).catch((function(e){throw e})),sn(e.config.body||"").then((function(e){v(e)})).catch((function(e){throw e}))}),[e.config]);var m=o.useState({open:!1}),g=m[0],y=m[1],x=o.useState({open:!1}),j=x[0],O=x[1],A=function(e){return un(void 0,void 0,void 0,(function(){return dn(this,(function(n){switch(n.label){case 0:return[4,me(e).catch((function(e){return{statusCode:500,body:e.toString()}}))];case 1:return[2,n.sent()]}}))}))},P=function(){return un(void 0,void 0,void 0,(function(){var n,t,r;return dn(this,(function(o){switch(o.label){case 0:return n={to:i||[],cc:s,subject:d||"",body:h||""},e.onClose(),y({severity:"info",message:e.text.snack.pending}),t=function(e){return new Promise((function(n){window.setTimeout((function(){n({statusCode:408,body:{}})}),e)}))},[4,Promise.race([A(n),t(3e4)])];case 1:return 200===(r=o.sent()).statusCode?O({severity:"success",message:e.text.snack.done}):408===r.statusCode?O({severity:"error",message:e.text.snack.timeout}):O({severity:"error",message:e.text.snack.error}),[2]}}))}))},S=function(){return!!hn(i)&&i.map((function(e){return Ze(e)})).every((function(e){return e}))},I=function(){return void 0===s||s.map((function(e){return Ze(e)})).every((function(e){return e}))},T=S(),N=I(),q=!0,R=!0,D=S()&&I()&&!0,X={to:hn(i)?!T&&e.text.helper.invalidEmail:e.text.helper.required,cc:!N&&"Invalid email address",subject:!q&&"",body:!R&&""},B={to:function(e){return a(e)},cc:function(e){return l(e)},subject:function(e){return f(e.target.value)},body:function(e){return v(e.target.value)}};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(w.Z,ln({open:e.open,onClose:e.onClose,className:n.root,maxWidth:"sm",fullWidth:!0,onKeyDown:function(e){return un(void 0,void 0,void 0,(function(){return dn(this,(function(n){switch(n.label){case 0:return e.ctrlKey&&"Enter"===e.key?(e.preventDefault(),[4,P()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}},{children:[(0,r.jsx)(Z.Z,ln({className:n.title,disableTypography:!0},{children:(0,r.jsx)($e.Z,ln({variant:"subtitle1",color:"textSecondary",gutterBottom:!0},{children:e.text.title}),void 0)}),void 0),(0,r.jsxs)(k.Z,ln({className:n.content},{children:[(0,r.jsx)(fn,{children:(0,r.jsxs)(b.Z,ln({flex:1},{children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(Oe,{label:e.text.label.to,fullWidth:!0,multiline:!0,rowsMax:4,required:!0,error:!T,helperText:X.to,chips:i,setChips:B.to},void 0)},void 0),(0,r.jsx)(b.Z,ln({position:"relative"},{children:(0,r.jsx)(Oe,{label:e.text.label.cc,fullWidth:!0,multiline:!0,rowsMax:4,chips:s,setChips:B.cc,error:!N,helperText:X.cc},void 0)}),void 0)]}),void 0)},void 0),(0,r.jsx)(fn,{children:(0,r.jsx)(M.Z,{variant:"outlined",label:e.text.label.subject,fullWidth:!0,value:d,onChange:B.subject,error:!q,helperText:X.subject},void 0)},void 0),(0,r.jsx)(fn,{children:(0,r.jsx)(M.Z,{variant:"outlined",label:e.text.label.body,fullWidth:!0,multiline:!0,rows:5,rowsMax:20,value:h,onChange:B.body,error:!R,helperText:X.body},void 0)},void 0)]}),void 0),(0,r.jsxs)(C.Z,ln({className:n.action},{children:[(0,r.jsx)(E.Z,ln({onClick:e.onClose},{children:e.text.button.cancel}),void 0),(0,r.jsx)(E.Z,ln({variant:"contained",color:"primary",disabled:!D,onClick:P},{children:e.text.button.send}),void 0)]}),void 0)]}),void 0),(0,r.jsx)(U,ln({},g),void 0),(0,r.jsx)(U,ln({},j),void 0)]},void 0)},mn=t(9394),bn=t(4308),gn=t(3641),yn=t(775),xn=t(9969),jn=t(2193),wn=t(7346),Zn=function(){return(Zn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},kn=(0,l.Z)((function(e){return(0,u.Z)({accordionWrapper:{"&:first-child .MuiAccordion-root:before":{display:"none"},"&.Mui-expanded":{"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0}},"&.MuiAccordion-rounded":{"&:last-child":{borderBottomLeftRadius:4,borderBottomRightRadius:4},"&:first-child":{borderTopLeftRadius:4,borderTopRightRadius:4}}},accordionWrapped:{"&:first-child:before":{display:"block"},"&.Mui-expanded":{"&:first-child":{marginTop:e.spacing(2)},"&:last-child":{marginBottom:e.spacing(2)}},"&.MuiAccordion-rounded":{"&:last-child":{borderBottomLeftRadius:0,borderBottomRightRadius:0},"&:first-child":{borderTopLeftRadius:0,borderTopRightRadius:0}}},summary:{padding:0,"& .MuiAccordionSummary-content":{marginTop:0,marginBottom:0},transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&.Mui-expanded.Mui-focused":{background:"unset"}},hover:{"&:hover":{background:e.palette.action.hover}},summaryContent:{display:"flex",flex:1,alignItems:"center"},expandIcon:{padding:e.spacing(1.5),transform:"rotate(0deg)",transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut})},rotate:{transform:"rotate(180deg)"},dragHandle:{color:e.palette.text.secondary,display:"flex",padding:e.spacing(3,2)},titleInput:{"& .MuiOutlinedInput-input":{background:e.palette.action.selected,transition:e.transitions.create(["background"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeInOut})},"& .MuiOutlinedInput-input:focus":{background:e.palette.background.paper}}})})),On=function(e){e.stopPropagation(),e.preventDefault()},Cn=function(e){var n=kn(),t=e.entry,i=t[0],a=t[1],c=a.config,s=a.index,l=a.title,u=function(n){e.setEntry([i,Zn(Zn({},e.entry[1]),{title:n.target.value})])},d=o.useState(e.initExpanded||!1),f=d[0],p=d[1],h=function(){return p(!f)},v=function(n){var t;On(n),null===(t=e.onClick)||void 0===t||t.call(e,e.entry)},m=function(){return e.handleDelete(i)},g=function(n){return e.setEntry([i,{index:s,title:l,config:n}])},y=function(e,n){if(!n.isDropAnimating)return e;if("bin"===n.draggingOver){var t=n.dropAnimation||{moveTo:{x:0,y:0},curve:"ease",duration:.3},r=t.moveTo,o=t.curve,i=t.duration;return Zn(Zn({},e),{transform:"translate(0px,"+r.y+"px) rotateX(-20deg) scale(0.2)",opacity:0,transition:"transform "+o+" "+(i+.1)+"s, opacity ease-out "+i+"s"})}return e};o.useEffect((function(){(0,Ye.be)()}),[f]);var j=o.useState(!1),w=j[0],Z=j[1],k=o.useState({x:0,y:0}),O=k[0],C=k[1],E=function(){return Z(!1)},A=function(e){On(e),C({x:e.clientX,y:e.clientY}),Z(!0)},P=function(e){return e.target.select()};return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(wn._l,Zn({draggableId:i,index:e.nth},{children:function(t,o){return(0,r.jsxs)("div",Zn({ref:function(e){return t.innerRef(e)}},t.draggableProps,{style:y(t.draggableProps.style,o),className:n.accordionWrapper},{children:[(0,r.jsxs)(mn.Z,Zn({className:n.accordionWrapped,expanded:f,onClick:On},{children:[(0,r.jsxs)(bn.Z,Zn({className:(0,K.Z)(n.summary,!f&&n.hover),onClick:On,onContextMenu:A},{children:[(0,r.jsxs)(b.Z,Zn({className:n.summaryContent,onClick:v},{children:[(0,r.jsx)(b.Z,Zn({className:n.dragHandle,onClick:On},t.dragHandleProps,{tabIndex:-1},{children:(0,r.jsx)(yn.Z,{color:"inherit"},void 0)}),void 0),f?(0,r.jsx)(M.Z,{variant:"outlined",className:n.titleInput,margin:"dense",value:l,onClick:On,onChange:u,onFocus:P},void 0):(0,r.jsx)($e.Z,{children:l},void 0)]}),void 0),(0,r.jsx)(b.Z,Zn({display:"flex",justifyContent:"center",alignItems:"center",mr:2},{children:(0,r.jsx)(x.Z,Zn({className:(0,K.Z)(n.expandIcon,f&&n.rotate),onClick:h},{children:f?(0,r.jsx)(xn.Z,{},void 0):(0,r.jsx)(jn.Z,{fontSize:"small",style:{margin:"2px"}},void 0)}),void 0)}),void 0)]}),void 0),(0,r.jsx)(gn.Z,{children:(0,r.jsx)(Ye.ZP,Zn({style:{flex:1},height:400,once:!0,offset:f?0:-window.innerHeight},{children:(0,r.jsx)(_n,{config:c,setConfig:g,handleDelete:m,text:e.text.config},void 0)}),void 0)},void 0)]}),void 0),(0,r.jsx)(Re,{open:w,onClose:E,handleDelete:m,anchorPosition:{top:O.y-8,left:O.x-4}},void 0)]}),void 0)}}),void 0)},void 0)},En=function(){return(En=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},An=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},Pn=(0,l.Z)((function(e){return(0,u.Z)({items:{marginBottom:e.spacing(1)}})})),Sn=function(e){var n=Pn(),t=o.useState(!1),i=t[0],a=t[1];return(0,r.jsx)(wn.Z5,En({onDragEnd:function(n){var t,r,o;if(a(!1),null!=n.destination&&(n.source.droppableId!==n.destination.droppableId||n.source.index!==n.destination.index)){if(n.source.droppableId===n.destination.droppableId){var i=function(e,n,t){var r=Array.from(e),o=r.splice(n,1);return r.splice.apply(r,de([t,0],o)),r}(e.entries,n.source.index,n.destination.index).map((function(e,n){var t=e[0],r=e[1];return[t,En(En({},r),{index:n})]})),c=i.reduce((function(n,t){var r,o,i=t[0],a=t[1],c=null===(o=Object.fromEntries(e.entries)[i])||void 0===o?void 0:o.index;return a.index!==c?En(En({},n),((r={})[i]=a,r)):n}),{});null===(t=e.onAdd)||void 0===t||t.call(e,c),e.setEntries(i)}if("bin"===n.destination.droppableId){var s=null===(r=e.entries[n.source.index])||void 0===r?void 0:r[0],l=e.entries.reduce((function(e,n,t){var r=n[0],o=n[1];return r!==s?An(An([],e),[[r,En(En({},o),{index:t})]]):e}),[]);s&&(null===(o=e.onRemove)||void 0===o||o.call(e,s)),e.setEntries(l)}}},onBeforeCapture:function(){a(!0)}},{children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(wn.bK,En({droppableId:"hinagataList"},{children:function(t){return(0,r.jsxs)("div",En({},t.droppableProps,{ref:function(e){return t.innerRef(e)}},{children:[(0,r.jsx)(b.Z,En({className:n.items},{children:e.children}),void 0),t.placeholder]}),void 0)}}),void 0),i&&(0,r.jsx)(Rn,{droppableId:"bin"},void 0)]},void 0)}),void 0)},In=t(4130),Tn=function(){return(Tn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Nn=(0,D.Z)(b.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center"}})),qn=(0,D.Z)("div")((function(e){var n=e.theme;return{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",left:0,bottom:0,height:80,width:"100vw",overflow:"hidden",color:n.palette.text.secondary,border:"dashed",borderWidth:2,borderColor:n.palette.divider,transition:n.transitions.create(["background","borderColor"],{duration:n.transitions.duration.shortest,easing:n.transitions.easing.easeOut}),"&:hover":{borderColor:n.palette.error.main,background:n.palette.action.hover}}})),Rn=function(e){return(0,r.jsx)(wn.bK,Tn({droppableId:e.droppableId},{children:function(e){return(0,r.jsxs)(qn,Tn({},e.droppableProps,{ref:function(n){return e.innerRef(n)}},{children:[(0,r.jsx)(Nn,Tn({position:"absolute"},{children:(0,r.jsx)(In.Z,{fontSize:"large",color:"inherit"},void 0)}),void 0),e.placeholder]}),void 0)}}),void 0)},Mn=function(){return(Mn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Dn=(0,D.Z)(b.Z)((function(e){return{display:"flex",flex:1,padding:e.theme.spacing(1,0)}})),Xn=(0,D.Z)(b.Z)((function(e){return{flex:1,padding:e.theme.spacing(1,0)}})),Bn=(0,l.Z)((function(e){return(0,u.Z)({root:{flex:1,padding:e.spacing(0,2)},column:{flexDirection:"column"},boxForm:{marginTop:e.spacing(2)},action:{marginRight:e.spacing(2),justifyContent:"flex-end"},delete:{color:e.palette.error.contrastText,background:e.palette.error.main,transition:e.transitions.create(["background"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeOut}),"&:hover":{background:e.palette.error.dark}}})})),Wn={to:[],cc:[],subject:"",body:"",signature:void 0},_n=function(e){var n=Bn(),t=o.useState(!1),i=t[0],a=t[1],c=o.useState(Wn),s=c[0],l=c[1];o.useEffect((function(){l(Mn(Mn({},Wn),e.config))}),[e.config]);var u=o.useState(0),d=u[0],f=u[1],p=function(n,t){var r,o=Mn(Mn({},s),((r={})[n]=t,r));l(o),window.clearTimeout(d);var i=window.setTimeout((function(){e.setConfig(o)}),900);f(i)},h={to:function(e){return p("to",e)},cc:function(e){return p("cc",e)},subject:function(e){return p("subject",e.target.value)},body:function(e){return p("body",e.target.value)}};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(b.Z,Mn({className:n.root},{children:[(0,r.jsxs)(Dn,Mn({className:n.column,mb:2},{children:[(0,r.jsx)(Xn,{children:(0,r.jsx)(Oe,{label:e.text.label.to,fullWidth:!0,multiline:!0,rowsMax:4,chips:s.to,setChips:h.to},void 0)},void 0),(0,r.jsx)(Xn,{children:(0,r.jsx)(Oe,{label:e.text.label.cc,fullWidth:!0,multiline:!0,rowsMax:4,chips:s.cc,setChips:h.cc},void 0)},void 0)]}),void 0),(0,r.jsx)(Dn,{children:(0,r.jsx)(M.Z,{variant:"outlined",label:e.text.label.subject,fullWidth:!0,value:s.subject,onChange:h.subject},void 0)},void 0),(0,r.jsx)(b.Z,Mn({mb:1},{children:(0,r.jsx)(Dn,{children:(0,r.jsx)(M.Z,{variant:"outlined",label:e.text.label.body,fullWidth:!0,multiline:!0,rows:5,rowsMax:20,className:n.boxForm,value:s.body,onChange:h.body},void 0)},void 0)}),void 0),(0,r.jsx)(Dn,Mn({className:n.action},{children:(0,r.jsx)(E.Z,Mn({variant:"contained",color:"inherit",className:n.delete,onClick:function(){a(!0)}},{children:e.text.button.delete}),void 0)}),void 0)]}),void 0),(0,r.jsx)(S,{open:i,onClose:function(){a(!1)},onClick:e.handleDelete,title:e.text.deleteConfirm.title,message:e.text.deleteConfirm.message},void 0)]},void 0)},zn=function(){return(zn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ln=(0,l.Z)((function(e){return(0,u.Z)({logo:{display:"block",fill:e.palette.text.secondary,height:e.typography.h6.fontSize},appRoot:{overflowX:"hidden",width:"100%",textRendering:"optimizeLegibility","& *":{"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0)"},"&::-webkit-scrollbar-thumb":{background:e.palette.grey[400],borderRadius:3}}}})}));const Gn=function(){var e,n=Ln();return(0,r.jsx)(s.Z,{children:(0,r.jsx)("div",zn({className:n.appRoot},{children:(0,r.jsx)(Ue,{title:(0,r.jsx)(c,{className:n.logo},void 0),url:"https://not-dev.github.io/garmail/",dbPrefix:"GarMail",examples:(e={},e[(0,Ve.Z)()]={index:0,title:"日報",config:{to:["manager@example.com","chief@example.com"],cc:["staff-a@example.com","staff-b@example.com"],subject:"【日報】 %LASTNAME% (%TODAY%)",body:"本日の作業内容です。\n\n%CLIPBOARD%\n\n以上"}},e[(0,Ve.Z)()]={index:1,title:"部内ML",config:{to:["manager@example.com","chief@example.com","staff-a@example.com","staff-b@example.com"]}},e[(0,Ve.Z)()]={index:2,title:"見積依頼",config:{subject:"見積書ご送付の依頼",body:"株式会社XXXX\n              XXXX様\n\n              平素より大変お世話になっております。\n              株式会社EXAMPLE 情報システム部の%NAME%です。\n\n              先日貴社へお伺いした際にご提案いただきました\n              貴社製品の「XXXX」について、社内で購入を検討しております。\n\n              つきましては下記条件にてお見積書を作成いただき、\n              ご送付くださいますようお願い申し上げます。\n\n              ----------\n              商品名：XXXX\n              数量：XXXX\n              納期：XXXX\n              ----------\n\n              不明点等ございましたらお申し付けください。\n\n              お手数をおかけしますが、\n              何卒宜しくお願い申し上げます。\n\n              %SIGNATURE%\n              ".replace(/^[^\S\n]{12}/gm,"")}},e),text:{tooltip:{help:"ヘルプ"},main:{newEntry:{title:"新しいテンプレート"},hinagata:{config:{label:{to:"to",cc:"cc",subject:"subject",body:"body"},deleteConfirm:{title:"",message:"削除しますか？"},button:{delete:"DELETE"}}},mailer:{title:"送信確認",label:{to:"to",cc:"cc",subject:"subject",body:"body"},helper:{invalidEmail:"不正な入力です",required:"必須項目"},button:{send:"送信",cancel:"キャンセル"},snack:{pending:"送信中",done:"完了",error:"エラー",timeout:"タイムアウト"}}}}},void 0)}),void 0)},void 0)}}}]);